{"version":3,"file":"main.a414e6a8efe547f0.js","mappings":"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AAkC,EAClCA,UAAqC,EACrCA,UAAyB,EACzBA,UAAgC,EAChCA,UAA2B,EAC3BA,SACA,CACEktB,QAAStxB,MACTuxB,WAaN,SAASK,GACPJ,EACAl0B,EACA8Y,GAEA,MAAO,IAAM,IAAIwH,QAAcC,IAC7B2T,EAAanzB,KAAK,KAChB,MAAMwzB,EAAiB,CAACv0B,EAAgBU,UAAUyxB,eAAenyB,EAAgBoyB,gBACjF9R,QAAQzR,IAAI0lB,GAAgBxzB,KAAK,KAC/B,MAAMyzB,EAAgB,CAAC1b,EAAWhX,iBAClCwe,QAAQzR,IAAI2lB,GAAezzB,KAAK,IAAMwf,IAAS,EAChD,EACF,EAEL,EA1BM8T,KAAM,CAACV,GAAejtB,KAAiB9G,GACvC60B,OAAO,MAET3tB,OAAwB,CACtBitB,KAAM,6BAER,CAAEC,QAASvtB,KAA6BiuB,SAvDmB,CAC7DC,UAAW,IACXC,UAAW,EACXC,kBAAmB,EACnBC,6BAA6B,KAoD5BC,SA9CCC,KACAC,KACAC,aAAqB,IACrBC,gBACAzuB,eACAA,KACAC,KACAA,KACAY,EACAytB,KACAvB,EACAC,EACA0B,eAA6B,iBAAkB,CAC7ClyB,QAASN,uBACTyyB,qBAAsB,uCCnExBzyB,kBACFF,SAGFsyB,OACGM,gBAAgB1B,GAChB2B,MAAMC,GAAO9rB,QAAQC,IAAI6rB,GAAI,mBCdhC,OACA,aACA,gBACA,WACA,eACA,kBACA,gBACA,mBACA,gBACA,mBACA,gBACA,mBACA,gBACA,mBACA,gBACA,mBACA,cACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,mBACA,gBACA,aACA,gBACA,YACA,eACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,mBACA,gBACA,mBACA,gBACA,aACA,gBACA,aACA,gBACA,gBACA,mBACA,gBACA,mBACA,eACA,kBACA,gBACA,mBACA,gBACA,mBACA,gBACA,mBACA,gBACA,mBACA,gBACA,mBACA,aACA,gBACA,aACA,gBACA,mBACA,gBACA,mBACA,gBACA,mBACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,cACA,iBACA,aACA,gBACA,aACA,gBACA,mBACA,gBACA,mBACA,gBACA,WACA,cACA,aACA,gBACA,aACA,gBACA,YACA,eACA,mBACA,sBACA,kBACA,qBACA,aACA,gBACA,aACA,gBACA,WACA,cACA,aACA,gBACA,aACA,gBACA,gBACA,mBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,mBACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,mBACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,mBACA,gBACA,aACA,gBACA,iBACA,oBACA,gBACA,mBACA,aACA,gBACA,aACA,gBACA,mBACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,kBACA,qBACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,cACA,iBACA,aACA,gBACA,aACA,gBACA,aACA,gBACA,gBACA,mBACA,cACA,iBACA,aACA,gBACA,cACA,iBACA,cACA,kBACA,qBACA,iBACA,gBACA,mBACA,aACA,gBACA,aACA,gBACA,aACA,kBACA,qBACA,gBACA,aACA,gBACA,mBACA,sBACA,aACA,gBACA,gBACA,mBACA,gBACA,mBACA,gBACA,mBACA,gBACA,oBAIA,cACA,WACA,WACA,CACA,cACA,cACA,8CACA,gCACA3gB,CACA,CACA,WACA,CACA4gB,kBACA,qBACA,EACAA,YACAC,YACAD","names":["PwaService","constructor","platform","updates","languageService","configService","confirmDialogService","this","isEnabled","interval","subscribe","checkForUpdate","modalUpdatePWA","message","translate","instant","open","confirm","activateUpdate","then","window","navigator","onLine","document","location","reload","alert","setTimeout","checkForUpdates","versionUpdates","pipe","filter","evt","type","initPwaPrompt","getConfig","IOS","addEventListener","event","preventDefault","promptEvent","listenToUserAction","once","showPrompt","prompt","userChoice","core","factory","environment","production","igo","app","forceCoordsNA","pwa","enabled","promote","catalog","sources","id","title","url","showLegend","depot","importExport","configFileToGeoDBService","language","prefix","interactiveTour","tourInMobile","pathToConfigFile","searchSources","nominatim","available","storedqueries","icherche","searchUrl","order","params","limit","coordinatesreverse","showInPointerSummary","icherchereverse","ilayer","projections","code","alias","def","extent","searchOverlayStyle","base","markerColor","markerOpacity","markerOutlineColor","fillColor","fillOpacity","strokeColor","strokeOpacity","strokeWidth","focus","selection","queryOverlayStyle","MapOverlayModule","common","AppExpansionPanelModule","fesm2015_button","icon","menu","list","fesm2015_select","tooltip","igo2_core","igo2_common","AppToastPanelModule","badge","igo2_geo","AppSidenavModule","sidenav","igo2_context","AppToastPanelForExpansionModule","IgoWelcomeWindowModule","fesm2015_forms","dialog","toolbar","PortalModule","igo2_integration","WelcomeWindowService","storageService","igoVersionDifferentFromStorage","isVersionDifferentFromStorage","setStorageConfig","nbVisit","Number","get","set","hasWelcomeWindow","remove","dialogConfig","disableClose","autoFocus","maxWidth","afterClosedWelcomeWindow","showAgain","WelcomeWindowComponent","welcomeWindowService","of","BehaviorSubject","ngOnInit","computeHtml","closeWelcomeWindow","closeAll","deltaDay","isDateParsable","releaseDate","Date","releaseDateAppConfig","releaseDateApp","isNaN","getDate","console","log","releaseDateString","day","month","getMonth","getFullYear","title$$","map","description","version","r","html$","next","setShowAgain","ngOnDestroy","unsubscribe","selectors","ExpansionPanelHeaderComponent","expanded","_expanded","value","expandedChange","emit","hasExpandedClass","onToggleClick","ctx","ExpansionPanelComponent","backdropShown","_backdropShown","maximized","hasExpandedFullClass","onBackdropClick","showContent","duration","delay","easing","fesm2015_animations","opacity","changeDetection","ToastPanelComponent","mediaService","storageState","queryState","fullExtent","GeoJSON","opened","zoomAuto","setResizeWindowIcon","_map","store","_store","entities$","_entities","unselectResult","_opened","openedChange","_zoomAuto","zoomAuto$","_fullExtent","fullExtent$","fullExtentEvent","getClassPanel","isHtmlDisplay","resultSelected$","displayStyle","results","length","initialized","selectResult","onEscapeHandler","clear","onBackHandler","onZoomHandler","isResultSelected$","getValue","localOlFeature","format","readFeature","data","dataProjection","projection","featureProjection","all","multiple","multiple$","monitorResultOutOfView","isSelectedResultOutOfView$$","combineLatest","viewController","state$","debounceTime","bunch","selectedResult","isSelectedResultOutOfView$","selectedOlFeature","selectedOlFeatureExtent","latestResult","trigger","hasFeatureEmphasisOnSelection","resultOrResolution$$","focusedResult$","tap","res","resolution$","buildResultEmphasis","storageChange$$","storageChange$","skipWhile","storageChange","key","change","currentValue","actionStore","load","display","handler","availability","olFeatures","result","push","checkbox","checkCondition","v","isDesktop","clearFeatureEmphasis","olGeometry","getGeometry","getExtent","x","y","feature1","Feature","name","geometry","Point","abstractFocusedOrSelectedResult","meta","style","Object","assign","feature","queryOverlayStyleSelection","queryOverlayStyleFocus","setZIndex","queryResultsOverlay","addFeature","removeFeature","getTitle","focusResult","unfocusResult","force","state","focused","update","selected","properties","target","setHtmlDisplay","features","removeFeatures","addFeatures","setFeatures","isMobile","getMedia","handleKeyboardEvent","keyCode","previousResult","nextResult","i","indexOf","zoomTo","swipe","action","SWIPE_ACTION","RIGHT","LEFT","UP","DOWN","e","className","onTriggerAction","args","windowHtmlDisplayEvent","isHtmlAndDesktop","iconResizeWindows","resizeWindows","reduceWindow","enlargeWindows","ToastPanelForExpansionComponent","hasOpenedClass","withHeader","toast_panel_for_expansion_animations_showContent","SidenavComponent","toolState","catalogState","toolbox","activeTool$$","activeTool$","tool","sidenavTitle","catalogStore","title$","layer","layers","options","active","toolChange","onPreviousButtonClick","activatePreviousTool","onUnselectButtonClick","deactivateTool","MapOverlayComponent","contextService","ngAfterViewInit","context$$","context$","context","handleContextChange","media$$","media$","media","mapOverlay","overlay","includes","PortalComponent","route","workspaceState","authService","layerService","dataSourceService","cdRef","capabilitiesService","contextState","mapState","searchState","searchSourceService","importService","http","messageService","dialogWindow","queryService","editionWorkspaceService","directionState","pwaService","pageSize","pageSizeOptions","hasExpansionPanel","hasHomeExtentButton","hasGeolocateButton","showRotationButtonIfNoRotation","showMenuButton","showSearchBar","igoSearchPointerSummaryEnabled","sidenavOpened","sidenavOpened$","auth","toastPanelOpened","_toastPanelOpened","detectChanges","isTablet","isLandscape","getOrientation","isPortrait","expansionPanelExpanded","workspacePanelExpanded","setPadding","bottom","toastPanelShown","expansionPanelBackdropShown","toastPanelForExpansionOpened","actionbarMode","actionbarWithTitle","searchStore","searchResultsGeometryEnabled","searchResultsGeometryEnabled$","queryStore","toastPanelContent","content","workspace","hasWidget","workspaceStore","workspace$","IGO","searchTermSplitter$","termSplitter","initWelcomeWindow","queryParams","readLanguageParam","authenticate$","authenticated","contextLoaded","onChangeContext","contextActions","searchCoordinate","contextMenuCoord","openGoogleMaps","openGoogleStreetView","contextMenuStore","count$","pairwise","prevCnt","currentCnt","padding","ol","readQueryParams","geolocationController","tracking","onSettingsChange$","setSearchSettingsChange","selectedResult$","closeSidenav","workspaceEnabled$","empty$","workspaceEmpty","updateMapBrowserClass","workspaceMaximize$$","workspaceMaximize$","workspaceMaximize","activeWks","selectedWorkspace$","_a","_b","paginatorOptions","_c","_d","activeWidget$$","activeWorkspaceWidget$","widget","openToastPanelForExpansion","showToastPanelForExpansionToggle","closeToastPanelForExpansion","openSidenav$$","openSidenav$","openSidenav","sidenavMediaAndOrientation$$","orientation$","sidenavMediaAndOrientation","computeToastPanelOffsetX","initSW","dataDownload","downloadMessage","currentVersion","dataLoadSource","serviceWorker","ready","registration","concatMap","ngsw","datas$","appData","cachedDataVersion","assetGroups","assetGroup","urls","concat","files","f","zip","toastId","success","timeOut","setToastPanelHtmlDisplay","toastPanelHtmlDisplay","Promise","resolve","toastPanelOffsetX$","getToastPanelExtent","workspaceVisibility","wks","inResolutionRange$","entityStore","visible","workspaceNotAvailableMessage","isEditionWorkspace","createFeatureProperties","rowsInMapExtentCheckCondition$","editFeature","sourceOptions","sourceFields","forEach","field","primary","paginatorChange","matPaginator","workspacePaginator","entitySortChange","workspaceEntitySortChange$","entitySelectChange","getQuerySearchSource","querySearchSourceArray","getLayerWksOptionTabQuery","added","getProperties","_featureStore","featureStoreLayer","getAllowedFieldsAndAlias","getQueryTitle","querySearchSource","find","s","sourceTitle","queryResults","cancelOngoingAddLayer","addedLayers$$","sub","onToggleSidenavClick","toggleSidenav","onDeactivateWorkspaceWidget","onMapQuery","filteredResults","getFeatureIsSameActiveWks","getWksActiveOpenInResolution","getLayerWksOptionMapQuery","onSearchTermChange","term","routeParams","search","deactivateCustomFilterTermStrategy","setSearchTerm","replace","trim","onClearSearch","onBeforeSearch","onSearch","isReverseSearch","research","source","enabledSources","getEnabledSources","newResults","updateMany","onSearchResultsGeometryStatusChange","setSearchResultsGeometryStatus","onSearchSettingsChange","toolChanged","searchBar","nativeElement","getElementsByTagName","computeHomeExtentValues","view","homeExtent","homeCenter","center","homeZoom","zoom","empty","softClear","qParams","uri","readLayersQueryParams","contextManager","getTool","toolToOpen","toolToOpenOnContextChange","toolOrderToOpen","toolName","activateTool","toastOpenedChange","handleExpansionAndToastOnMobile","searchResultsOverlay","setSelectedResult","getSources","searchSource","onContextMenuOpen","getClickCoordinate","contextmenuPoint","boundingMapBrowser","mapBrowser","getBoundingClientRect","top","scrollY","pageYOffset","left","scrollX","pageXOffset","pixel","coord","getCoordinateFromPixel","proj","ol_proj","searchBarTerm","c","toFixed","join","header","classList","add","onPointerSummaryStatusChange","getExpansionPanelStatus","getToastPanelOffsetY","status","getToastPanelStatus","getControlsOffsetY","getBaselayersSwitcherStatus","readToolParams","readSearchParams","readFocusFirst","computeZoomToExtent","lang","languageForce","setLanguage","zoomExtent","extentParams","split","olExtent","zoomToExtent","computeFocusFirst","resultItem","item","click","sf","termDefinedInUrl","entities$$","stateView","all$","entities","take","termDefinedInUrlTriggered","exactMatch","activateCustomFilterTermStrategy","searchResultsOlFeatures","entity","dataType","totalExtent","searchGeom","matDialogRef$","first","matDialogOpened","routing","routingCoordLoaded","stopCoords","routingOptions","resultSelection","parseInt","stopsStore","storeInitialized$","init","stop","position","text","coordinates","routesFeatureStore","zoomToActiveRoute$","d","readLayersQueryParamsByType","readVectorQueryParams","getQueryParam","paramValue","fromString","nameParamLayersKey","urlsKey","wmsLayers","wmsUrl","wmtsLayers","wmtsUrl","arcgisLayers","arcgisUrl","iarcgisLayers","iarcgisUrl","tarcgisLayers","tarcgisUrl","layersByService","cnt","urlSrc","endsWith","substring","extractLayersByService","layerFromUrl","layerOptions","igo2_utils","LAYERS","visibility","computeLayerVisibilityFromUrl","addLayerFromURL","vector","lastIndex","lastIndexOf","fileName","slice","responseType","file","File","lastModified","now","import","onFileImportSuccess","error","onFileImportError","outLayersByService","startsWith","substr","zIndex","commonSourceOptions","optionsFromCapabilities","optionsFromApi","crossOrigin","arcgisClause","queryable","queryFormat","VERSION","createAsyncLayer","l","addLayer","currentLayerid","visibleOnLayersParams","visibleOffLayersParams","visiblelayers","invisiblelayers","toString","logged$","logged","createWelcomeWindow","welcomWindowConfig","afterClosed","featureTitle","refreshRelationsWorkspace","relationLayers","relationWorkspace","workspaceId","tableTemplate","columns","col","getDomainValues","relation","domainValues","zoomToSelectedFeatureWks","featuresSelected","workspaceSelection","rec","olFeaturesSelected","feat","expansionPanelAnimation","toastPanelAnimation","controlsAnimations","controlSlideX","controlSlideY","mapSlideX","mapSlideY","HeaderComponent","computeHeader","headerLogo","headerLogoPrint","FooterComponent","AppComponent","analyticsListenerService","renderer","titleService","metaService","getTranslation","getLanguage","authConfig","readTitleConfig","readThemeConfig","readDescriptionConfig","listen","detectOldBrowser","hasHeader","hasFooter","setTitle","addTag","theme","themeClass","addClass","body","ie","chrome","firefox","safari","message$","rep","HeaderModule","FooterModule","CONFIG_LOADER","AppModule","bootstrap","default","path","provide","useFactory","configLoader","configOptions","promiseOrTrue","deps","appInitializerFactory","secondPromises","thirdPromises","multi","useValue","showDelay","hideDelay","touchendHideDelay","disableTooltipInteractivity","imports","platform_browser","animations","router","igo2_auth","service_worker","registrationStrategy","bootstrapModule","catch","err","webpackContext","module"],"sourceRoot":"webpack:///","sources":["./src/app/services/pwa.service.ts","./src/environments/environment.github.ts","./src/app/pages/portal/map-overlay/map-overlay.module.ts","./src/app/pages/portal/expansion-panel/expansion-panel.module.ts","./src/app/pages/portal/toast-panel/toast-panel.module.ts","./src/app/pages/portal/sidenav/sidenav.module.ts","./src/app/pages/portal/toast-panel-for-expansion/toast-panel-for-expansion.module.ts","./src/app/pages/portal/welcome-window/welcome-window.module.ts","./src/app/pages/portal/portal.module.ts","./src/app/pages/portal/welcome-window/welcome-window.service.ts","./src/app/pages/portal/welcome-window/welcome-window.component.html","./src/app/pages/portal/welcome-window/welcome-window.component.ts","./src/app/pages/portal/expansion-panel/expansion-panel-header.component.html","./src/app/pages/portal/expansion-panel/expansion-panel-header.component.ts","./src/app/pages/portal/expansion-panel/expansion-panel.component.ts","./src/app/pages/portal/expansion-panel/expansion-panel.component.html","./src/app/pages/portal/expansion-panel/expansion-panel.animations.ts","./src/app/pages/portal/toast-panel/toast-panel.component.html","./src/app/pages/portal/toast-panel/toast-panel.component.ts","./src/app/pages/portal/toast-panel-for-expansion/toast-panel-for-expansion.component.ts","./src/app/pages/portal/sidenav/sidenav.component.html","./src/app/pages/portal/toast-panel-for-expansion/toast-panel-for-expansion.component.html","./src/app/pages/portal/toast-panel-for-expansion/toast-panel-for-expansion.animations.ts","./src/app/pages/portal/sidenav/sidenav.component.ts","./src/app/pages/portal/map-overlay/map-overlay.component.html","./src/app/pages/portal/map-overlay/map-overlay.component.ts","./src/app/pages/portal/portal.component.html","./src/app/pages/portal/portal.component.ts","./src/app/pages/portal/portal.animation.ts","./src/app/pages/header/header.component.ts","./src/app/pages/header/header.component.html","./src/app/pages/footer/footer.component.ts","./src/app/app.component.html","./src/app/pages/footer/footer.component.html","./src/app/app.component.ts","./src/app/pages/header/header.module.ts","./src/app/pages/footer/footer.module.ts","./src/app/app.module.ts","./src/main.ts","./node_modules/moment/locale/ sync ^\\.\\/.*$"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Platform } from '@angular/cdk/platform';\nimport { ConfigService, LanguageService } from '@igo2/core';\nimport { SwUpdate, VersionDetectedEvent } from '@angular/service-worker';\nimport { interval } from 'rxjs';\nimport { ConfirmDialogService } from '@igo2/common';\nimport { filter } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PwaService {\n  promptEvent: any;\n  constructor(\n    private platform: Platform,\n    public updates: SwUpdate,\n    public languageService: LanguageService,\n    private configService: ConfigService,\n    private confirmDialogService: ConfirmDialogService\n  ) {\n    if (updates.isEnabled) {\n      interval(60 * 1000 * 2).subscribe(() => updates.checkForUpdate());\n    }\n  }\n\n  private modalUpdatePWA() {\n    const title = this.languageService.translate.instant('pwa.new-version-title');\n    const body = this.languageService.translate.instant('pwa.new-version');\n    const message = `${title} ${body}`;\n    this.confirmDialogService.open(message).subscribe((confirm) => {\n      if (confirm) {\n        this.updates.activateUpdate().then(() => {\n          if (window.navigator.onLine) {\n            document.location.reload();\n          } else {\n            alert(`Hors-ligne / Offline. Vous devez tre en ligne pour mettre  jour l\\'application. You must be online to update the application.`);\n            setTimeout(() => {\n              this.modalUpdatePWA();\n            }, 900000);\n          }\n        });\n      }\n    });\n  }\n\n  public checkForUpdates(): void {\n    if (this.updates.isEnabled) {\n      this.updates.versionUpdates.pipe(\n        filter((evt): evt is VersionDetectedEvent => evt.type === 'VERSION_DETECTED'))\n      .subscribe(() => {\n        this.modalUpdatePWA();\n      });\n  }\n  }\n\n  public async initPwaPrompt(): Promise<any> {\n    if (\n      this.configService.getConfig('app') &&\n      this.configService.getConfig('app.pwa') &&\n      this.configService.getConfig('app.pwa.enabled') &&\n      this.configService.getConfig('app.pwa.promote')) {\n      if (!this.platform.IOS) {\n        window.addEventListener('beforeinstallprompt', (event: any) => {\n          event.preventDefault();\n          this.promptEvent = event;\n          this.listenToUserAction();\n        }, { once: true });\n      }\n    }\n  }\n\n  private listenToUserAction() {\n    window.addEventListener('click', () => { this.showPrompt(); }, { once: true });\n  }\n\n  private async showPrompt() {\n    this.promptEvent.prompt();\n    const outcome = await this.promptEvent.userChoice;\n    this.promptEvent = undefined;\n  }\n}\n","import { LanguageOptions } from '@igo2/core';\nimport {\n  SearchSourceOptions,\n  ImportExportServiceOptions,\n  CatalogServiceOptions,\n  Projection,\n  CommonVectorStyleOptions\n} from '@igo2/geo';\n\ninterface Environment {\n  production: boolean;\n  igo: {\n    app: {\n      forceCoordsNA: boolean;\n      pwa?: {\n        enabled?: boolean;\n        promote?: boolean;\n      }\n    };\n    catalog?: CatalogServiceOptions;\n    importExport?: ImportExportServiceOptions;\n    language?: LanguageOptions;\n    searchSources?: { [key: string]: SearchSourceOptions };\n    projections?: Projection[];\n    interactiveTour?: { tourInMobile: boolean; pathToConfigFile: string };\n    depot?: { url: string; trainingGuides?: string[]; };\n    queryOverlayStyle?: {\n      base?: CommonVectorStyleOptions,\n      selection?: CommonVectorStyleOptions,\n      focus?: CommonVectorStyleOptions\n    };\n    searchOverlayStyle?: {\n      base?: CommonVectorStyleOptions,\n      selection?: CommonVectorStyleOptions,\n      focus?: CommonVectorStyleOptions\n    };\n  };\n}\n\nexport const environment: Environment = {\n  production: true,\n  igo: {\n    app: {\n      forceCoordsNA: false,\n      pwa: {\n        enabled: false,\n        promote: false\n      }\n    },\n    catalog: {\n      sources: [\n        {\n          id: 'Gououvert',\n          title: 'Gouvouvert',\n          url: 'https://geoegl.msp.gouv.qc.ca/apis/ws/igo_gouvouvert.fcgi'\n        },\n        {\n          id: 'glace',\n          title: 'Carte de glace',\n          url: 'https://geoegl.msp.gouv.qc.ca/apis/ws/radarsat.fcgi',\n          showLegend: true\n        }\n      ]\n    },\n    depot: {\n      url: '/apis/depot'\n    },\n    importExport: {\n      url: 'https://geoegl.msp.gouv.qc.ca/apis/ogre',\n      configFileToGeoDBService: './data/geoDataToIDB.json'\n    },\n    language: {\n      prefix: './locale/'\n    },\n    interactiveTour: {\n      tourInMobile: true,\n      pathToConfigFile: './config/interactiveTour.json'\n    },\n    searchSources: {\n      nominatim: {\n        available: false\n      },\n      storedqueries: {\n        available: false\n      },\n      icherche: {\n        searchUrl: 'https://geoegl.msp.gouv.qc.ca/apis/icherche',\n        order: 2,\n        params: {\n          limit: '8'\n        }\n      },\n      coordinatesreverse: {\n        showInPointerSummary: true\n      },\n      icherchereverse: {\n        showInPointerSummary: true,\n        searchUrl: 'https://geoegl.msp.gouv.qc.ca/apis/terrapi',\n        order: 3,\n        enabled: true\n      },\n      ilayer: {\n        searchUrl: 'https://geoegl.msp.gouv.qc.ca/apis/icherche/layers',\n        order: 4,\n        params: {\n          limit: '5'\n        }\n      }\n    },\n    projections: [\n      {\n        code: 'EPSG:32198',\n        alias: 'Quebec Lambert',\n        def:\n          '+proj=lcc +lat_1=60 +lat_2=46 +lat_0=44 +lon_0=-68.5 +x_0=0 +y_0=0 \\\n          +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs',\n        extent: [-799574, 45802, 891595.4, 1849567.5]\n      },\n      {\n        code: 'EPSG:3798',\n        alias: 'MTQ Lambert',\n        def:\n          '+proj=lcc +lat_1=50 +lat_2=46 +lat_0=44 +lon_0=-70 +x_0=800000 +y_0=0 \\\n          +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs',\n        extent: [31796.5834, 158846.2231, 1813323.4284, 2141241.0978]\n      }\n    ],\n    searchOverlayStyle: {\n      base: {\n        markerColor: '#5ed0fb', // marker fill\n        markerOpacity: 0.8, // marker opacity not applied if a rgba markerColor is provided\n        markerOutlineColor: '#a7e7ff', // marker contour\n        fillColor: '#5ed0fb', // poly\n        fillOpacity: 0.2, // poly fill opacity not applied if a rgba fillColor is provided\n        strokeColor: '#5ed0fb', // line and poly\n        strokeOpacity: 0.7, // line and poly not applied if a rgba strokeColor is provided\n        strokeWidth: 2 // line and poly\n      },\n      focus: {\n        markerColor: '#5ed0fb', // marker fill\n        markerOpacity: 1, // marker opacity not applied if a rgba markerColor is provided\n        markerOutlineColor: '#DFF7FF', // marker contour\n        fillColor: '#5ed0fb', // poly\n        fillOpacity: 0.3, // poly fill opacity not applied if a rgba fillColor is provided\n        strokeColor: '#DFF7FF', // line and poly\n        strokeOpacity: 1, // line and poly not applied if a rgba strokeColor is provided\n        strokeWidth: 2 // line and poly\n      },\n      selection: {\n        markerColor: '#00a1de', // marker fill\n        markerOpacity: 1, // marker opacity not applied if a rgba markerColor is provided\n        markerOutlineColor: '#ffffff', // marker contour\n        fillColor: '#00a1de', // poly\n        fillOpacity: 0.3, // poly fill opacity not applied if a rgba fillColor is provided\n        strokeColor: '#00A1DE', // line and poly\n        strokeOpacity: 1, // line and poly not applied if a rgba strokeColor is provided\n        strokeWidth: 2 // line and poly\n      }\n    },\n    queryOverlayStyle: {\n      base: {\n        markerColor: '#5ed0fb', // marker fill\n        markerOpacity: 0.8, // marker opacity not applied if a rgba markerColor is provided\n        markerOutlineColor: '#a7e7ff', // marker contour\n        fillColor: '#5ed0fb', // poly\n        fillOpacity: 0.2, // poly fill opacity not applied if a rgba fillColor is provided\n        strokeColor: '#5ed0fb', // line and poly\n        strokeOpacity: 0.7, // line and poly not applied if a rgba strokeColor is provided\n        strokeWidth: 2 // line and poly\n      },\n      focus: {\n        markerColor: '#5ed0fb', // marker fill\n        markerOpacity: 1, // marker opacity not applied if a rgba markerColor is provided\n        markerOutlineColor: '#DFF7FF', // marker contour\n        fillColor: '#5ed0fb', // poly\n        fillOpacity: 0.3, // poly fill opacity not applied if a rgba fillColor is provided\n        strokeColor: '#DFF7FF', // line and poly\n        strokeOpacity: 1, // line and poly not applied if a rgba strokeColor is provided\n        strokeWidth: 2 // line and poly\n      },\n      selection: {\n        markerColor: '#00a1de', // marker fill\n        markerOpacity: 1, // marker opacity not applied if a rgba markerColor is provided\n        markerOutlineColor: '#ffffff', // marker contour\n        fillColor: '#00a1de', // poly\n        fillOpacity: 0.3, // poly fill opacity not applied if a rgba fillColor is provided\n        strokeColor: '#00A1DE', // line and poly\n        strokeOpacity: 1, // line and poly not applied if a rgba strokeColor is provided\n        strokeWidth: 2 // line and poly\n      }\n    }\n  }\n};\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n\nimport { MapOverlayComponent } from './map-overlay.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  exports: [MapOverlayComponent],\n  declarations: [MapOverlayComponent]\n})\nexport class MapOverlayModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatListModule } from '@angular/material/list';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatSelectModule } from '@angular/material/select';\n\nimport { IgoLanguageModule } from '@igo2/core';\nimport { IgoBackdropModule } from '@igo2/common';\n\nimport { ExpansionPanelComponent } from './expansion-panel.component';\nimport { ExpansionPanelHeaderComponent } from './expansion-panel-header.component';\nimport { MatTooltipModule } from '@angular/material/tooltip';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatButtonModule,\n    MatIconModule,\n    MatMenuModule,\n    MatListModule,\n    MatSelectModule,\n    MatTooltipModule,\n    IgoLanguageModule,\n    IgoBackdropModule\n  ],\n  exports: [ExpansionPanelComponent],\n  declarations: [ExpansionPanelComponent, ExpansionPanelHeaderComponent]\n})\nexport class AppExpansionPanelModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatTooltipModule } from '@angular/material/tooltip';\n\nimport { IgoPanelModule, IgoStopPropagationModule, IgoActionModule } from '@igo2/common';\nimport { IgoLanguageModule } from '@igo2/core';\nimport { IgoFeatureModule, IgoSearchResultsModule } from '@igo2/geo';\n\nimport { ToastPanelComponent } from './toast-panel.component';\nimport { MatBadgeModule } from '@angular/material/badge';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatBadgeModule,\n    MatIconModule,\n    MatButtonModule,\n    MatTooltipModule,\n    MatMenuModule,\n    IgoLanguageModule,\n    IgoPanelModule,\n    IgoStopPropagationModule,\n    IgoActionModule,\n    IgoFeatureModule,\n    IgoSearchResultsModule\n  ],\n  exports: [ToastPanelComponent],\n  declarations: [ToastPanelComponent]\n})\nexport class AppToastPanelModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatSidenavModule } from '@angular/material/sidenav';\nimport { MatTooltipModule } from '@angular/material/tooltip';\n\nimport { IgoLanguageModule } from '@igo2/core';\nimport {\n  IgoPanelModule,\n  IgoFlexibleModule,\n  IgoToolModule,\n  IgoInteractiveTourModule,\n  IgoHomeButtonModule\n} from '@igo2/common';\nimport { IgoFeatureModule } from '@igo2/geo';\nimport { IgoContextManagerModule } from '@igo2/context';\n\nimport { SidenavComponent } from './sidenav.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatIconModule,\n    MatButtonModule,\n    MatSidenavModule,\n    MatTooltipModule,\n    IgoLanguageModule,\n    IgoPanelModule,\n    IgoFlexibleModule,\n    IgoContextManagerModule,\n    IgoToolModule,\n    IgoFeatureModule,\n    IgoInteractiveTourModule,\n    IgoHomeButtonModule\n  ],\n  exports: [SidenavComponent],\n  declarations: [SidenavComponent]\n})\nexport class AppSidenavModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\n\nimport { IgoPanelModule, IgoStopPropagationModule } from '@igo2/common';\nimport { IgoLanguageModule } from '@igo2/core';\n\nimport { ToastPanelForExpansionComponent } from './toast-panel-for-expansion.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatIconModule,\n    MatButtonModule,\n    IgoLanguageModule,\n    IgoPanelModule,\n    IgoStopPropagationModule\n  ],\n  exports: [ToastPanelForExpansionComponent],\n  declarations: [ToastPanelForExpansionComponent]\n})\nexport class AppToastPanelForExpansionModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatDialogModule } from '@angular/material/dialog';\n\nimport { WelcomeWindowComponent } from './welcome-window.component';\nimport { IgoLanguageModule } from '@igo2/core';\nimport { IgoInteractiveTourModule, IgoCustomHtmlModule } from '@igo2/common';\n\n@NgModule({\n  imports: [\n    IgoLanguageModule,\n    CommonModule,\n    FormsModule,\n    MatDialogModule,\n    IgoInteractiveTourModule,\n    IgoCustomHtmlModule,\n    MatButtonModule,\n    MatTooltipModule,\n    MatIconModule,\n    MatToolbarModule\n  ],\n  declarations: [WelcomeWindowComponent],\n  exports: [WelcomeWindowComponent]\n})\nexport class IgoWelcomeWindowModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatSidenavModule } from '@angular/material/sidenav';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatDialogModule } from '@angular/material/dialog';\n\nimport { IgoCoreModule } from '@igo2/core';\nimport {\n  IgoActionModule,\n  IgoWorkspaceModule,\n  IgoEntityModule,\n  IgoPanelModule,\n  IgoBackdropModule,\n  IgoFlexibleModule,\n  IgoContextMenuModule,\n  IgoToolModule,\n  IgoEntityTableModule,\n  IgoEntityTablePaginatorModule,\n  IgoInteractiveTourModule\n} from '@igo2/common';\n\nimport {\n  IgoGeoWorkspaceModule,\n  IgoFeatureModule,\n  IgoImportExportModule,\n  IgoMapModule,\n  IgoQueryModule,\n  IgoSearchModule\n} from '@igo2/geo';\nimport {\n  IgoContextManagerModule,\n  IgoContextMapButtonModule\n} from '@igo2/context';\n\nimport { IgoIntegrationModule } from '@igo2/integration';\n\nimport { MapOverlayModule } from './map-overlay/map-overlay.module';\nimport { AppExpansionPanelModule } from './expansion-panel/expansion-panel.module';\nimport { AppToastPanelModule } from './toast-panel/toast-panel.module';\nimport { AppSidenavModule } from './sidenav/sidenav.module';\n\nimport { PortalComponent } from './portal.component';\nimport { AppToastPanelForExpansionModule } from './toast-panel-for-expansion/toast-panel-for-expansion.module';\n\nimport { IgoWelcomeWindowModule } from './welcome-window/welcome-window.module';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        MatTooltipModule,\n        MatButtonModule,\n        MatIconModule,\n        MatSidenavModule,\n        MatDialogModule,\n        IgoCoreModule,\n        IgoFeatureModule,\n        IgoImportExportModule,\n        IgoMapModule,\n        IgoQueryModule.forRoot(),\n        IgoSearchModule.forRoot(),\n        IgoActionModule,\n        IgoWorkspaceModule,\n        IgoEntityModule,\n        IgoGeoWorkspaceModule,\n        IgoPanelModule,\n        IgoToolModule,\n        IgoContextMenuModule,\n        IgoBackdropModule,\n        IgoFlexibleModule,\n        IgoIntegrationModule,\n        AppExpansionPanelModule,\n        AppToastPanelModule,\n        AppToastPanelForExpansionModule,\n        AppSidenavModule,\n        MapOverlayModule,\n        IgoContextManagerModule,\n        IgoContextMapButtonModule,\n        IgoEntityTableModule,\n        IgoEntityTablePaginatorModule,\n        IgoInteractiveTourModule,\n        IgoWelcomeWindowModule\n    ],\n    exports: [PortalComponent],\n    declarations: [PortalComponent]\n})\nexport class PortalModule {}\n","import { Injectable } from '@angular/core';\n\nimport { ConfigService, StorageService } from '@igo2/core';\nimport { MatDialogConfig } from '@angular/material/dialog';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WelcomeWindowService {\n  nbVisit: number;\n  showAgain: boolean;\n  igoVersionDifferentFromStorage = false;\n\n  constructor(\n    private configService: ConfigService,\n    private storageService: StorageService\n  ) {\n    this.igoVersionDifferentFromStorage = this.isVersionDifferentFromStorage();\n    this.setStorageConfig();\n  }\n\n  setStorageConfig() {\n    this.nbVisit = Number(this.storageService.get('welcomeWindow_nbVisit'));\n    if (!this.nbVisit) {\n      this.nbVisit = 0;\n    }\n\n    this.storageService.set('welcomeWindow_nbVisit', (this.nbVisit += 1));\n    this.storageService.set(\n      'version',\n      this.configService.getConfig('version.lib')\n    );\n  }\n\n  isVersionDifferentFromStorage(): boolean {\n    if (\n      this.storageService.get('version') &&\n      this.storageService.get('version') !==\n        this.configService.getConfig('version.lib')\n    ) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  hasWelcomeWindow(): boolean {\n    if (\n      this.storageService.get('welcomeWindow_showAgain') === false ||\n      this.storageService.get('welcomeWindow_showAgain') === 'false'\n    ) {\n      if (\n        this.nbVisit >=\n        this.configService.getConfig('welcomeWindow.nbVisitToShowAgain')\n      ) {\n        this.storageService.set('welcomeWindow_nbVisit', 0);\n        this.storageService.remove('welcomeWindow_showAgain');\n        return true;\n      } else if (\n        this.configService.getConfig('welcomeWindow.showAgainOnNewIGOVersion')\n      ) {\n        if (this.igoVersionDifferentFromStorage) {\n          this.storageService.set('welcomeWindow_nbVisit', 0);\n          this.storageService.remove('welcomeWindow_showAgain');\n          return true;\n        }\n      }\n      return false;\n    }\n\n    if (typeof this.configService.getConfig('welcomeWindow.nbVisitToShow') !== 'undefined' ) {\n      if (this.nbVisit > this.configService.getConfig('welcomeWindow.nbVisitToShow') ) {\n        this.storageService.set('welcomeWindow_showAgain', false);\n        return false;\n      }\n    }\n\n    return this.configService.getConfig('welcomeWindow');\n  }\n\n  getConfig(): MatDialogConfig {\n    const dialogConfig = new MatDialogConfig();\n\n    dialogConfig.disableClose = true;\n    dialogConfig.autoFocus = true;\n    dialogConfig.maxWidth = '500px';\n\n    return dialogConfig;\n  }\n\n  afterClosedWelcomeWindow() {\n    this.storageService.set('welcomeWindow_showAgain', this.showAgain);\n  }\n}\n","<div class=\"welcome-window\"  *ngIf=\"html$ | async\">\n\n  <mat-toolbar color=\"primary\">\n    <h2>{{'welcomeWindow.title' | translate}}</h2>\n    <span class=\"spacer\"></span>\n\n    <label>\n      <input id=\"doNotShowCheck\" type=\"checkbox\" [(ngModel)]=\"showAgain\" (click)=\"setShowAgain()\">\n      {{'welcomeWindow.notShowCheck' | translate}}\n    </label>\n  </mat-toolbar>\n\n  <div mat-dialog-content class=\"text\">\n    <igo-custom-html class=\"mat-typography\"\n    [html]=\"html$ | async\">\n    </igo-custom-html>\n  </div>\n\n  <p></p>\n  <div class=\"button-container\">\n    <igo-interactive-tour\n      id=\"tour-button\"\n      styleButton = \"raised\"\n      [discoverTitleInLocale$]=\"discoverTitleInLocale$\"\n      (click)= \"closeWelcomeWindow()\">\n    </igo-interactive-tour>\n\n  <button mat-raised-button class=\"button-close\" color=\"primary\" mat-dialog-close>{{'welcomeWindow.closeButton' | translate}}</button>\n  </div>\n\n</div>\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { ConfigService, LanguageService } from '@igo2/core';\nimport { BehaviorSubject, Observable, of, Subscription } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { WelcomeWindowService } from './welcome-window.service';\n\n@Component({\n  selector: 'app-welcome-window',\n  templateUrl: './welcome-window.component.html',\n  styleUrls: ['./welcome-window.component.scss']\n})\nexport class WelcomeWindowComponent implements OnInit, OnDestroy {\n  // isVisible = true;\n  showAgain = false;\n  public discoverTitleInLocale$: Observable<string> =\n    of(this.configService.getConfig('welcomeWindow.discoverTitleInLocale') || this.configService.getConfig('title'));\n  private title$$: Subscription;\n  public html$: BehaviorSubject<string> = new BehaviorSubject(undefined);\n\n  constructor(\n    public dialog: MatDialog,\n    private welcomeWindowService: WelcomeWindowService,\n    private configService: ConfigService,\n    protected languageService: LanguageService\n  ) { }\n\n  ngOnInit(): void {\n    this.computeHtml();\n  }\n\n  closeWelcomeWindow() {\n    this.dialog.closeAll();\n  }\n\n  private computeHtml() {\n    let deltaDay = 0;\n    let isDateParsable = true;\n    let releaseDate = new Date(this.configService.getConfig('version.releaseDate'));\n\n    const releaseDateAppConfig = this.configService.getConfig('version.releaseDateApp');\n\n\n    if (releaseDateAppConfig) {\n      const releaseDateApp = new Date(releaseDateAppConfig);\n      if (isNaN(releaseDateApp.getDate())) {\n        console.log('The releaseDateApp config is not a valid date format');\n        isDateParsable = false;\n      } else {\n        deltaDay = 1;\n        releaseDate = releaseDateApp;\n      }\n    }\n\n    let releaseDateString = '';\n\n    if (isDateParsable) {\n      let day: any = releaseDate.getDate() + deltaDay;\n      if (day < 10) {\n        day = '0' + day;\n      }\n      let month: any = releaseDate.getMonth() + 1;\n      if (month < 10) {\n        month = '0' + month;\n      }\n      const year = releaseDate.getFullYear();\n      releaseDateString = `${year}-${month}-${day}`;\n    } else {\n      releaseDateString = releaseDateAppConfig;\n    }\n\n    this.title$$ = this.languageService.translate.get(this.configService.getConfig('title') || '')\n      .pipe(\n        map(title => {\n          return this.languageService.translate.instant('welcomeWindow.html', {\n            title,\n            description: this.configService.getConfig('description') || '',\n            version: this.configService.getConfig('version.app') || this.configService.getConfig('version.lib') || '',\n            releaseDate: releaseDateString || ''\n          });\n        })\n      ).subscribe((r) => this.html$.next(r));\n\n    return this.html$;\n\n  }\n\n  setShowAgain() {\n    this.welcomeWindowService.showAgain = this.showAgain;\n  }\n\n  ngOnDestroy(): void {\n    if (this.title$$) {\n      this.title$$.unsubscribe();\n    }\n  }\n}\n","<div>\n  <div class=\"app-expansion-panel-trigger-container\">\n    <button mat-icon-button (click)=\"onToggleClick()\" \n    [matTooltip]=\"(!expanded ? 'workspace.open' : 'workspace.close') | translate\"\n    color=\"primary\">\n      <mat-icon *ngIf=\"!expanded\" svgIcon=\"launch\"></mat-icon>\n      <mat-icon *ngIf=\"expanded\" style=\"transform: rotate(180deg)\" svgIcon=\"launch\"></mat-icon>\n    </button>\n  </div>\n\n  <div class=\"app-expansion-panel-content\">\n    <ng-content></ng-content>\n  </div>\n</div>\n","import {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  HostBinding,\n  ChangeDetectionStrategy\n} from '@angular/core';\n\n@Component({\n  selector: 'app-expansion-panel-header',\n  templateUrl: './expansion-panel-header.component.html',\n  styleUrls: ['./expansion-panel-header.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ExpansionPanelHeaderComponent {\n  @Input()\n  get expanded(): boolean {\n    return this._expanded;\n  }\n  set expanded(value: boolean) {\n    if (value === this._expanded) {\n      return;\n    }\n\n    this._expanded = value;\n    this.expandedChange.emit(this._expanded);\n  }\n  private _expanded: boolean;\n\n  @Output() expandedChange = new EventEmitter<boolean>();\n\n  @HostBinding('class.app-expansion-panel-header-expanded')\n  get hasExpandedClass() {\n    return this.expanded;\n  }\n\n  constructor() {}\n\n  onToggleClick() {\n    this.expanded = !this.expanded;\n  }\n}\n","import {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  HostBinding,\n  ChangeDetectionStrategy\n} from '@angular/core';\n\nimport { showContent } from './expansion-panel.animations';\n\n@Component({\n  selector: 'app-expansion-panel',\n  templateUrl: './expansion-panel.component.html',\n  styleUrls: ['./expansion-panel.component.scss'],\n  animations: [showContent()],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ExpansionPanelComponent {\n  @Input()\n  get expanded(): boolean {\n    return this._expanded;\n  }\n  set expanded(value: boolean) {\n    if (value === this._expanded) {\n      return;\n    }\n\n    this._expanded = value;\n    this.expandedChange.emit(this._expanded);\n  }\n  private _expanded: boolean;\n\n  @Input() maximized: Boolean = false;\n\n  @Input()\n  get backdropShown(): boolean {\n    return this._backdropShown;\n  }\n  set backdropShown(value: boolean) {\n    this._backdropShown = value;\n  }\n  private _backdropShown: boolean;\n\n  @Output() expandedChange = new EventEmitter<boolean>();\n\n  @HostBinding('class.app-expansion-panel-expanded')\n  get hasExpandedClass() {\n    return this.expanded && !this.maximized;\n  }\n\n  @HostBinding('class.app-expansion-panel-expanded-maximized')\n  get hasExpandedFullClass() {\n    return this.expanded && this.maximized;\n  }\n\n  constructor() {}\n\n  onBackdropClick() {\n    this.expanded = false;\n    this.backdropShown = false;\n  }\n}\n","<div>\n\n  <div class=\"app-expansion-panel-container\">\n    <igo-backdrop\n      [shown]=\"backdropShown\"\n      (click)=\"onBackdropClick()\">\n    </igo-backdrop>\n\n    <app-expansion-panel-header [(expanded)]=\"expanded\">\n      <ng-content select=\"[expansionPanelHeader]\"></ng-content>\n    </app-expansion-panel-header>\n\n    <div\n      class=\"app-expansion-panel-content mat-elevation-z4\"\n      [@showContent]=\"expanded\">\n      <ng-content></ng-content>\n    </div>\n  </div>\n\n</div>\n","import {\n  trigger,\n  state,\n  style,\n  transition,\n  animate,\n  AnimationTriggerMetadata\n} from '@angular/animations';\n\nexport function showContent(\n  duration = '150ms',\n  delay = '300ms',\n  easing = 'ease-in-out'\n): AnimationTriggerMetadata {\n  return trigger('showContent', [\n    state(\n      'true',\n      style({\n        opacity: 1\n      })\n    ),\n    state(\n      'false',\n      style({\n        opacity: 0\n      })\n    ),\n    transition('false => true', animate(`${duration} ${delay} ${easing}`)),\n    transition('true => false', animate('0ms'))\n  ]);\n}\n","<ng-template #toast>\n  <igo-panel\n    *ngIf=\"store.entities$ | async\"\n    [ngClass] = \"getClassPanel()\"\n    [title]=\"resultSelected$.value ? getTitle(resultSelected$.value) :('toastPanel.title' | translate )\"\n    (click)=\"onToggleClick($event)\"\n    tabindex=\"0\"\n    (keydown)=\"handleKeyboardEvent($event)\">\n\n    <igo-actionbar\n      id=\"igo-actionbar\"\n      panelLeftButton\n      [store]=\"actionStore\"\n      [withIcon]=\"true\"\n      [icon]=\"icon\"\n      [withTitle]=\"actionbarMode === 'overlay'\"\n      [horizontal]=\"true\"\n      [mode]=\"actionbarMode\">\n    </igo-actionbar>\n\n    <button\n      *ngIf=\"resultSelected$.value\"\n      mat-icon-button\n      igoStopPropagation\n      panelLeftButton\n      [matTooltip]=\"((isSelectedResultOutOfView$ | async) ? 'toastPanel.zoomOnFeatureTooltipOutOfView' : 'toastPanel.zoomOnFeatureTooltip') | translate\"\n      matTooltipShowDelay=\"500\"\n      (click)=\"zoomTo()\">\n      <mat-icon\n      [matBadge]=\"(isSelectedResultOutOfView$ | async) ? '!' : ''\"\n      matBadgeColor=\"accent\"\n      matBadgeSize=\"small\"\n      [matBadgeHidden]=\"(isSelectedResultOutOfView$ | async)!==true\"     \n      svgIcon=\"magnify-plus-outline\"></mat-icon>\n    </button>\n\n    <button\n      *ngIf=\"resultSelected$.value\"\n      [disabled]=\"results[0].meta.id === resultSelected$.value.meta.id\"\n      mat-icon-button\n      igoStopPropagation\n      panelLeftButton\n      [matTooltip]=\"'toastPanel.previousFeatureTooltip' | translate\"\n      matTooltipShowDelay=\"500\"\n      (click)=\"previousResult()\">\n      <mat-icon svgIcon=\"chevron-left\"></mat-icon>\n    </button>\n\n    <button\n      *ngIf=\"resultSelected$.value\"\n      [disabled]=\"results[results.length-1].meta.id === resultSelected$.value.meta.id\"\n      mat-icon-button\n      igoStopPropagation\n      panelRightButton\n      [matTooltip]=\"'toastPanel.nextFeatureTooltip' | translate\"\n      matTooltipShowDelay=\"500\"\n      (click)=\"nextResult()\">\n      <mat-icon svgIcon=\"chevron-right\"></mat-icon>\n    </button>\n\n    <button\n     *ngIf = \"isDesktop()\"\n      mat-icon-button\n      igoStopPropagation\n      panelRightButton\n      (click)=\"resizeWindows()\"\n      [matTooltip]=\"((this.fullExtent$ | async) ? 'toastPanel.standardExtentTooltip' : 'toastPanel.fullExtentTooltip') | translate\"\n      matTooltipShowDelay=\"500\">\n      <mat-icon svgIcon={{iconResizeWindows}}></mat-icon>\n    </button>\n    <button\n      mat-icon-button\n      igoStopPropagation\n      panelRightButton\n      (click)=\"clear()\">\n      <mat-icon svgIcon=\"close\"></mat-icon>\n    </button>\n\n    <div #content class=\"toast-content\">\n\n      <igo-feature-details\n        *ngIf=\"resultSelected$.value\"\n        [feature]=\"resultSelected$.value.data\"\n        (htmlDisplayEvent)=setHtmlDisplay($event)>\n      </igo-feature-details>\n\n      <igo-search-results\n        *ngIf=\"!resultSelected$.value\"\n        [map]=\"map\"\n        [store]=\"store\"\n        [showIcons]=\"true\"\n        [withZoomButton]=\"withZoomButton\"\n        (resultFocus)=\"focusResult($event)\"\n        (resultUnfocus)=\"unfocusResult($event, true)\"\n        (resultSelect)=\"selectResult($event)\">\n      </igo-search-results>\n    </div>\n  </igo-panel>\n</ng-template>\n\n<div *ngIf=\"isMobile(); else toast\"\nclass=\"swipe-fix\"\n(swipeleft)=\"swipe($event.type)\"\n(swiperight)=\"swipe($event.type)\"\n(swipeup)=\"swipe($event.type)\"\n(swipedown)=\"swipe($event.type)\">\n\n<ng-template [ngTemplateOutlet]=\"toast\"></ng-template>\n</div>\n","import {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  HostBinding,\n  HostListener,\n  ChangeDetectionStrategy,\n  OnInit,\n  OnDestroy\n} from '@angular/core';\nimport { BehaviorSubject, Observable, combineLatest, Subscription } from 'rxjs';\nimport { debounceTime, map, skipWhile, tap } from 'rxjs/operators';\nimport olFormatGeoJSON from 'ol/format/GeoJSON';\nimport olFeature from 'ol/Feature';\nimport olPoint from 'ol/geom/Point';\n\nimport {\n  getEntityTitle,\n  EntityStore,\n  ActionStore,\n  Action,\n  ActionbarMode\n} from '@igo2/common';\nimport {\n  Feature,\n  SearchResult,\n  IgoMap,\n  FeatureMotion,\n  moveToOlFeatures,\n  featureToOl,\n  featuresAreTooDeepInView,\n  featureFromOl,\n  getCommonVectorStyle,\n  getCommonVectorSelectedStyle,\n  featuresAreOutOfView,\n  computeOlFeaturesExtent\n} from '@igo2/geo';\nimport {\n  Media,\n  MediaService,\n  LanguageService,\n  StorageService,\n  StorageScope,\n  StorageServiceEvent\n} from '@igo2/core';\nimport { QueryState, StorageState } from '@igo2/integration';\n\n@Component({\n  selector: 'app-toast-panel',\n  templateUrl: './toast-panel.component.html',\n  styleUrls: ['./toast-panel.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ToastPanelComponent implements OnInit, OnDestroy {\n  static SWIPE_ACTION = {\n    RIGHT: 'swiperight',\n    LEFT: 'swipeleft',\n    UP: 'swipeup',\n    DOWN: 'swipedown'\n  };\n\n  get storageService(): StorageService {\n    return this.storageState.storageService;\n  }\n\n  @Input()\n  get map(): IgoMap {\n    return this._map;\n  }\n  set map(value: IgoMap) {\n    this._map = value;\n  }\n  private _map: IgoMap;\n\n  @Input()\n  get store(): EntityStore<SearchResult<Feature>> {\n    return this._store;\n  }\n  set store(value: EntityStore<SearchResult<Feature>>) {\n    this._store = value;\n    this.store.entities$.subscribe((_entities) => {\n      this.unselectResult();\n    });\n  }\n  private _store: EntityStore<SearchResult<Feature>>;\n\n  @Input()\n  get opened(): boolean {\n    return this._opened;\n  }\n  set opened(value: boolean) {\n    if (value !== !this._opened) {\n      return;\n    }\n    this._opened = value;\n    this.storageService.set('toastOpened', value, StorageScope.SESSION);\n    this.openedChange.emit(value);\n  }\n  private _opened = true;\n\n  @Input() hasFeatureEmphasisOnSelection: Boolean = false;\n\n  get zoomAuto(): boolean {\n    return this._zoomAuto;\n  }\n  set zoomAuto(value) {\n    if (value !== !this._zoomAuto) {\n      return;\n    }\n    this._zoomAuto = value;\n    this.zoomAuto$.next(value);\n    this.storageService.set('zoomAuto', value);\n  }\n  private _zoomAuto = false;\n\n  // To allow the toast to use much larger extent on the map\n  get fullExtent(): boolean {\n    return this._fullExtent;\n  }\n  set fullExtent(value) {\n    if (value !== !this._fullExtent) {\n      return;\n    }\n    this._fullExtent = value;\n    this.fullExtent$.next(value);\n    this.fullExtentEvent.emit(value);\n    this.storageService.set('fullExtent', value);\n  }\n  private _fullExtent = false;\n\n  public fullExtent$: BehaviorSubject<boolean> = new BehaviorSubject(\n    this.fullExtent\n  );\n  public isHtmlDisplay = false;\n  public iconResizeWindows = '';\n\n  public icon = 'menu';\n\n  public actionStore = new ActionStore([]);\n  public actionbarMode = ActionbarMode.Overlay;\n\n  private multiple$ = new BehaviorSubject(false);\n  private isResultSelected$ = new BehaviorSubject(false);\n  public isSelectedResultOutOfView$ = new BehaviorSubject(false);\n  private isSelectedResultOutOfView$$: Subscription;\n  private storageChange$$: Subscription;\n  private initialized = true;\n\n  private format = new olFormatGeoJSON();\n\n  private resultOrResolution$$: Subscription;\n  private focusedResult$: BehaviorSubject<\n    SearchResult<Feature>\n  > = new BehaviorSubject(undefined);\n  private abstractFocusedOrSelectedResult: Feature;\n\n  public withZoomButton = true;\n  zoomAuto$: BehaviorSubject<boolean> = new BehaviorSubject(false);\n\n  @Output() openedChange = new EventEmitter<boolean>();\n\n  @Output() fullExtentEvent = new EventEmitter<boolean>();\n  @Output() windowHtmlDisplayEvent = new EventEmitter<boolean>();\n\n  resultSelected$ = new BehaviorSubject<SearchResult<Feature>>(undefined);\n\n  // @HostBinding('class.app-toast-panel-opened')\n  // get hasOpenedClass() {\n  //   return this.opened;\n  // }\n\n  // @HostBinding('class.app-full-toast-panel-collapsed')\n  // get hasFullCollapsedClass() {\n  //   return !this.opened && this.fullExtent;\n  // }\n  getClassPanel() {\n    return {\n      'app-toast-panel-opened' : this.opened && !this.fullExtent && !this.isHtmlDisplay,\n      'app-full-toast-panel-opened' :\n        this.opened && this.fullExtent &&\n        !this.isHtmlDisplay,\n\n      'app-toast-panel-html' :\n        this.opened &&\n        !this.fullExtent &&\n        this.resultSelected$.value &&\n        this.isHtmlDisplay,\n\n      'app-toast-panel-html-large' :\n        this.opened &&\n        this.fullExtent &&\n        this.resultSelected$.value &&\n        this.isHtmlDisplay,\n\n      'app-toast-panel-collapsed': !this.opened && !this.fullExtent && !this.isHtmlDisplay,\n      'app-full-toast-panel-collapsed' : !this.opened && this.fullExtent && !this.isHtmlDisplay,\n      'app-toast-panel-html-collapsed' : !this.opened && this.isHtmlDisplay\n    };\n  }\n\n\n  @HostBinding('style.visibility')\n  get displayStyle() {\n    if (this.results.length) {\n      if (this.results.length === 1 && this.initialized) {\n        this.selectResult(this.results[0]);\n      }\n      return 'visible';\n    }\n    return 'hidden';\n  }\n\n  // @HostBinding('class.app-full-toast-panel-opened')\n  // get hasFullOpenedClass() {\n  //   return this.opened && this.fullExtent;\n  // }\n\n  @HostListener('document:keydown.escape', ['$event']) onEscapeHandler(\n    event: KeyboardEvent\n  ) {\n    this.clear();\n  }\n\n  @HostListener('document:keydown.backspace', ['$event']) onBackHandler(\n    event: KeyboardEvent\n  ) {\n    this.unselectResult();\n  }\n\n  @HostListener('document:keydown.z', ['$event']) onZoomHandler(\n    event: KeyboardEvent\n  ) {\n    if (this.isResultSelected$.getValue() === true) {\n      const localOlFeature = this.format.readFeature(\n        this.resultSelected$.getValue().data,\n        {\n          dataProjection: this.resultSelected$.getValue().data.projection,\n          featureProjection: this.map.projection\n        }\n      );\n      moveToOlFeatures(this.map, [localOlFeature], FeatureMotion.Default);\n    }\n  }\n\n  get results(): SearchResult<Feature>[] {\n    // return this.store.view.filter((e) => e.meta.dataType === FEATURE).all();\n    return this.store.all();\n  }\n\n  get multiple(): Observable<boolean> {\n    this.results.length\n      ? this.multiple$.next(true)\n      : this.multiple$.next(false);\n    return this.multiple$;\n  }\n\n  constructor(\n    public mediaService: MediaService,\n    public languageService: LanguageService,\n    private storageState: StorageState,\n    private queryState: QueryState\n  ) {\n    this.opened = this.storageService.get('toastOpened') as boolean;\n    this.zoomAuto = this.storageService.get('zoomAuto') as boolean;\n    this.fullExtent = this.storageService.get('fullExtent') as boolean;\n    this.setResizeWindowIcon();\n  }\n\n  private monitorResultOutOfView() {\n    this.isSelectedResultOutOfView$$ = combineLatest([\n      this.map.viewController.state$,\n      this.resultSelected$\n    ])\n      .pipe(debounceTime(100))\n      .subscribe((bunch) => {\n        const selectedResult = bunch[1];\n        if (!selectedResult) {\n          this.isSelectedResultOutOfView$.next(false);\n          return;\n        }\n        const selectedOlFeature = featureToOl(selectedResult.data, this.map.projection);\n        const selectedOlFeatureExtent = computeOlFeaturesExtent(this.map, [selectedOlFeature]);\n        this.isSelectedResultOutOfView$.next(featuresAreOutOfView(this.map, selectedOlFeatureExtent));\n      });\n  }\n\n\n  ngOnInit() {\n    this.store.entities$.subscribe(() => {\n      this.initialized = true;\n    });\n    this.monitorResultOutOfView();\n\n    let latestResult;\n    let trigger;\n    if (this.hasFeatureEmphasisOnSelection) {\n      this.resultOrResolution$$ = combineLatest([\n        this.focusedResult$.pipe(\n          tap((res) => {\n            latestResult = res;\n            trigger = 'focused';\n          })\n        ),\n        this.resultSelected$.pipe(\n          tap((res) => {\n            latestResult = res;\n            trigger = 'selected';\n          })\n        ),\n        this.map.viewController.resolution$,\n        this.store.entities$\n      ]).subscribe(() => this.buildResultEmphasis(latestResult, trigger));\n    }\n\n    this.storageChange$$ = this.storageService.storageChange$\n      .pipe(skipWhile((storageChange: StorageServiceEvent) => storageChange.key !== 'zoomAuto'))\n      .subscribe((change) => {\n        this.zoomAuto = change.currentValue;\n      });\n\n    this.actionStore.load([\n      {\n        id: 'list',\n        title: this.languageService.translate.instant('toastPanel.backToList'),\n        icon: 'format-list-bulleted-square',\n        tooltip: this.languageService.translate.instant(\n          'toastPanel.listButton'\n        ),\n        display: () => {\n          return this.isResultSelected$;\n        },\n        handler: () => {\n          this.unselectResult();\n        }\n      },\n      {\n        id: 'zoomFeature',\n        title: this.languageService.translate.instant(\n          'toastPanel.zoomOnFeature'\n        ),\n        icon: 'magnify-plus-outline',\n        tooltip: this.languageService.translate.instant(\n          'toastPanel.zoomOnFeatureTooltip'\n        ),\n        display: () => {\n          return this.isResultSelected$;\n        },\n        handler: () => {\n          const localOlFeature = this.format.readFeature(\n            this.resultSelected$.getValue().data,\n            {\n              dataProjection: this.resultSelected$.getValue().data.projection,\n              featureProjection: this.map.projection\n            }\n          );\n          moveToOlFeatures(this.map, [localOlFeature], FeatureMotion.Zoom);\n        }\n      },\n      {\n        id: 'zoomResults',\n        title: this.languageService.translate.instant(\n          'toastPanel.zoomOnFeatures'\n        ),\n        tooltip: this.languageService.translate.instant(\n          'toastPanel.zoomOnFeaturesTooltip'\n        ),\n        icon: 'magnify-scan',\n        availability: () => {\n          return this.multiple;\n        },\n        handler: () => {\n          const olFeatures = [];\n          for (const result of this.store.all()) {\n            const localOlFeature = this.format.readFeature(result.data, {\n              dataProjection: result.data.projection,\n              featureProjection: this.map.projection\n            });\n            olFeatures.push(localOlFeature);\n          }\n          moveToOlFeatures(this.map, olFeatures, FeatureMotion.Zoom);\n        }\n      },\n      {\n        id: 'zoomAuto',\n        title: this.languageService.translate.instant('toastPanel.zoomAuto'),\n        tooltip: this.languageService.translate.instant(\n          'toastPanel.zoomAutoTooltip'\n        ),\n        checkbox: true,\n        checkCondition: this.zoomAuto$,\n        handler: () => {\n          this.zoomAuto = !this.zoomAuto;\n          if (this.zoomAuto && this.isResultSelected$.value === true) {\n            this.selectResult(this.resultSelected$.getValue());\n          }\n        }\n      },\n      {\n        id: 'fullExtent',\n        title: this.languageService.translate.instant('toastPanel.fullExtent'),\n        tooltip: this.languageService.translate.instant(\n          'toastPanel.fullExtentTooltip'\n        ),\n        icon: 'arrow-expand',\n        display: () => {\n          return this.fullExtent$.pipe(map((v) => !v && !this.isDesktop()));\n        },\n        handler: () => {\n          this.fullExtent = true;\n        }\n      },\n      {\n        id: 'standardExtent',\n        title: this.languageService.translate.instant(\n          'toastPanel.standardExtent'\n        ),\n        tooltip: this.languageService.translate.instant(\n          'toastPanel.standardExtentTooltip'\n        ),\n        icon: 'arrow-collapse',\n        display: () => {\n          return this.fullExtent$.pipe(map((v) => v && !this.isDesktop()));\n        },\n        handler: () => {\n          this.fullExtent = false;\n        }\n      }\n    ]);\n  }\n\n  ngOnDestroy(): void {\n    if (this.resultOrResolution$$) {\n      this.resultOrResolution$$.unsubscribe();\n    }\n    if (this.isSelectedResultOutOfView$$) {\n      this.isSelectedResultOutOfView$$.unsubscribe();\n    }\n    if (this.storageChange$$) {\n      this.storageChange$$.unsubscribe();\n    }\n  }\n\n  private buildResultEmphasis(\n    result: SearchResult<Feature>,\n    trigger: 'selected' | 'focused' | undefined\n  ) {\n    this.clearFeatureEmphasis();\n    if (!result || (trigger === 'selected' && this.zoomAuto)) {\n      return;\n    }\n    const myOlFeature = featureToOl(result.data, this.map.projection);\n    const olGeometry = myOlFeature.getGeometry();\n    if (featuresAreTooDeepInView(this.map, olGeometry.getExtent() as [number, number, number, number], 0.0025)) {\n      const extent = olGeometry.getExtent();\n      const x = extent[0] + (extent[2] - extent[0]) / 2;\n      const y = extent[1] + (extent[3] - extent[1]) / 2;\n      const feature1 = new olFeature({\n        name: 'abstractFocusedOrSelectedResult',\n        geometry: new olPoint([x, y])\n      });\n      this.abstractFocusedOrSelectedResult = featureFromOl(\n        feature1,\n        this.map.projection\n      );\n      this.abstractFocusedOrSelectedResult.meta.style =\n        getCommonVectorSelectedStyle(\n          Object.assign({},\n            { feature: this.abstractFocusedOrSelectedResult },\n            trigger === 'selected' ?\n              this.queryState.queryOverlayStyleSelection :\n              this.queryState.queryOverlayStyleFocus));\n      this.abstractFocusedOrSelectedResult.meta.style.setZIndex(2000);\n      this.map.queryResultsOverlay.addFeature(\n        this.abstractFocusedOrSelectedResult,\n        FeatureMotion.None\n      );\n    }\n  }\n\n  private clearFeatureEmphasis() {\n    if (this.abstractFocusedOrSelectedResult) {\n      this.map.queryResultsOverlay.removeFeature(this.abstractFocusedOrSelectedResult);\n      this.abstractFocusedOrSelectedResult = undefined;\n    }\n  }\n\n  getTitle(result: SearchResult) {\n    return getEntityTitle(result);\n  }\n\n  focusResult(result: SearchResult<Feature>) {\n    this.focusedResult$.next(result);\n    this.map.queryResultsOverlay.removeFeature(result.data);\n\n    result.data.meta.style = getCommonVectorSelectedStyle(\n      Object.assign({},\n        { feature: result.data },\n        this.queryState.queryOverlayStyleFocus));\n    result.data.meta.style.setZIndex(2000);\n    this.map.queryResultsOverlay.addFeature(result.data, FeatureMotion.None);\n  }\n\n  unfocusResult(result: SearchResult<Feature>, force?) {\n    this.focusedResult$.next(undefined);\n    if (!force && this.store.state.get(result).focused) {\n      return;\n    }\n    this.map.queryResultsOverlay.removeFeature(result.data);\n\n    result.data.meta.style = getCommonVectorStyle(\n      Object.assign({},\n        { feature: result.data },\n        this.queryState.queryOverlayStyle));\n    result.data.meta.style.setZIndex(undefined);\n    this.map.queryResultsOverlay.addFeature(result.data, FeatureMotion.None);\n  }\n\n  selectResult(result: SearchResult<Feature>) {\n    this.store.state.update(\n      result,\n      {\n        focused: true,\n        selected: true\n      },\n      true\n    );\n    this.resultSelected$.next(result);\n    if (result.data.properties && result.data.properties.target === 'iframe') {\n      this.setHtmlDisplay(true);\n    } else {\n      this.setHtmlDisplay(false);\n    }\n\n    const features = [];\n    for (const feature of this.store.all()) {\n      if (feature.meta.id === result.meta.id) {\n        feature.data.meta.style = getCommonVectorSelectedStyle(\n          Object.assign({}, { feature: feature.data },\n            this.queryState.queryOverlayStyleSelection));\n        feature.data.meta.style.setZIndex(2000);\n      } else {\n        feature.data.meta.style = getCommonVectorStyle(\n          Object.assign({},\n            { feature: feature.data },\n            this.queryState.queryOverlayStyle));\n      }\n      features.push(feature.data);\n    }\n    this.map.queryResultsOverlay.removeFeatures(features);\n    this.map.queryResultsOverlay.addFeatures(features, FeatureMotion.None);\n\n    if (this.zoomAuto) {\n      const localOlFeature = this.format.readFeature(\n        this.resultSelected$.getValue().data,\n        {\n          dataProjection: this.resultSelected$.getValue().data.projection,\n          featureProjection: this.map.projection\n        }\n      );\n      moveToOlFeatures(this.map, [localOlFeature], FeatureMotion.Default);\n    }\n\n    this.isResultSelected$.next(true);\n    this.initialized = false;\n  }\n\n  unselectResult() {\n    this.resultSelected$.next(undefined);\n    this.isResultSelected$.next(false);\n    this.setHtmlDisplay(false);\n    this.store.state.clear();\n\n    const features = [];\n    for (const feature of this.store.all()) {\n      feature.data.meta.style = getCommonVectorStyle(\n        Object.assign({},\n          { feature: feature.data },\n          this.queryState.queryOverlayStyle));\n      features.push(feature.data);\n    }\n    this.map.queryResultsOverlay.setFeatures(features, FeatureMotion.None, 'map');\n  }\n\n  clear() {\n    this.clearFeatureEmphasis();\n    this.map.queryResultsOverlay.clear();\n    this.store.clear();\n    this.unselectResult();\n    this.setHtmlDisplay(false);\n  }\n\n  isMobile(): boolean {\n    return this.mediaService.getMedia() === Media.Mobile;\n  }\n  isDesktop(): boolean {\n    return this.mediaService.isDesktop();\n  }\n\n  handleKeyboardEvent(event) {\n    if (event.keyCode === 37) {\n      this.previousResult();\n    } else if (event.keyCode === 39) {\n      this.nextResult();\n    }\n  }\n\n  previousResult() {\n    if (!this.resultSelected$.value) {\n      return;\n    }\n    let i = this.results.indexOf(this.resultSelected$.value);\n    const previousResult = this.results[--i];\n    if (previousResult) {\n      this.selectResult(previousResult);\n    }\n  }\n\n  nextResult() {\n    if (!this.resultSelected$.value) {\n      return;\n    }\n    let i = this.results.indexOf(this.resultSelected$.value);\n    const nextResult = this.results[++i];\n    if (nextResult) {\n      this.selectResult(nextResult);\n    }\n  }\n\n  zoomTo() {\n    const localOlFeature = this.format.readFeature(\n      this.resultSelected$.getValue().data,\n      {\n        dataProjection: this.resultSelected$.getValue().data.projection,\n        featureProjection: this.map.projection\n      }\n    );\n    moveToOlFeatures(this.map, [localOlFeature], FeatureMotion.Zoom);\n  }\n\n  swipe(action: string) {\n    if (action === ToastPanelComponent.SWIPE_ACTION.RIGHT) {\n      this.previousResult();\n    } else if (action === ToastPanelComponent.SWIPE_ACTION.LEFT) {\n      this.nextResult();\n    } else if (action === ToastPanelComponent.SWIPE_ACTION.UP) {\n      this.opened = true;\n    } else if (action === ToastPanelComponent.SWIPE_ACTION.DOWN) {\n      this.opened = false;\n    }\n  }\n\n  onToggleClick(e: MouseEvent) {\n    if ((e.target as any).className !== 'igo-panel-title') {\n      return;\n    }\n    this.opened = !this.opened;\n  }\n\n  /**\n   * Invoke the action handler\n   * @internal\n   */\n  onTriggerAction(action: Action) {\n    const args = action.args || [];\n    action.handler(...args);\n  }\n\n  setHtmlDisplay(value: boolean) {\n    if (value === true) {\n      this.isHtmlDisplay = true;\n      this.windowHtmlDisplayEvent.emit(true);\n    } else {\n      this.isHtmlDisplay = false;\n      this.windowHtmlDisplayEvent.emit(false);\n    }\n  }\n\n  isHtmlAndDesktop(): boolean {\n    if (this.isHtmlDisplay && this.isDesktop()) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  setResizeWindowIcon() {\n    if (this.fullExtent) {\n      this.iconResizeWindows = 'arrow-collapse';\n      // this.iconResizeWindows = 'vector-arrange-below';\n    } else {\n      this.iconResizeWindows = 'arrow-expand';\n      // this.iconResizeWindows = 'crop-square';\n    }\n  }\n\n  resizeWindows() {\n    this.storageService.set('fullExtent', !this.fullExtent);\n    if (this.fullExtent) {\n        this.reduceWindow();\n    } else {\n        this.enlargeWindows();\n      }\n  }\n\n  reduceWindow() {\n    this.fullExtent = false;\n    this.setResizeWindowIcon();\n  }\n\n  enlargeWindows() {\n    this.fullExtent = true;\n    this.setResizeWindowIcon();\n  }\n\n}\n","import {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  HostBinding,\n  ChangeDetectionStrategy\n} from '@angular/core';\nimport { showContent } from './toast-panel-for-expansion.animations';\n\n\n@Component({\n  selector: 'app-toast-panel-for-expansion',\n  templateUrl: './toast-panel-for-expansion.component.html',\n  styleUrls: ['./toast-panel-for-expansion.component.scss'],\n  animations: [showContent()],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ToastPanelForExpansionComponent {\n\n  @Input()\n  set opened(value: boolean) {\n    if (value === this._opened) {\n      return;\n    }\n    this._opened = value;\n    this.openedChange.emit(this._opened);\n  }\n  get opened(): boolean { return this._opened; }\n  private _opened: boolean;\n\n  @Input() title: string;\n\n  @Input() withHeader: boolean;\n\n  @Output() openedChange = new EventEmitter<boolean>();\n\n  @HostBinding('class.toast-panel-for-expansion-opened')\n  get hasOpenedClass() {\n    return this.opened;\n  }\n\n  @HostBinding('style.visibility')\n  get displayStyle() {\n    return (this.withHeader || this.opened) ? 'visible' : 'hidden';\n  }\n\n  constructor() {}\n\n}\n","<mat-sidenav\n  mode=\"side\"\n  [autoFocus]=\"false\"\n  [(opened)]=\"opened\">\n\n  <div class=\"app-sidenav-content\">\n\n      <div #content class=\"app-content\" [ngClass]=\"{toolActivated: toolbox.activeTool$ | async}\">\n\n        <igo-home-button\n          *ngIf=\"toolbox.activeTool$ | async\"\n          (unselectButton)=\"onUnselectButtonClick()\">\n        </igo-home-button>\n\n        <igo-panel [title]=\"title$ | async | translate\">\n          <button *ngIf=\"toolbox.activeTool$ | async\"\n            mat-icon-button\n            panelLeftButton\n            tooltip-position=\"below\"\n            matTooltipShowDelay=\"500\"\n            [matTooltip]=\"'igo.context.sidenav.goBack' | translate\"\n            (click)=\"onPreviousButtonClick()\">\n            <mat-icon svgIcon=\"arrow-left\"></mat-icon>\n          </button>\n\n          <igo-interactive-tour\n            panelRightButton\n            styleButton = 'icon'>\n          </igo-interactive-tour>\n\n          <!-- <button *ngIf=\"toolbox.activeTool$ | async\"\n            mat-icon-button\n            panelRightButton\n            tooltip-position=\"below\"\n            matTooltipShowDelay=\"500\"\n            [matTooltip]=\"'igo.context.sidenav.mainMenu' | translate\"\n            (click)=\"onUnselectButtonClick()\">\n            <mat-icon svgIcon=\"close\"></mat-icon>\n          </button> -->\n\n          <igo-toolbox\n            class=\"igo-toolbox\"\n            color=\"primary\"\n            [animate]=\"true\"\n            [toolbox]=\"toolbox\">\n          </igo-toolbox>\n\n        </igo-panel>\n    </div>\n  </div>\n</mat-sidenav>\n","<igo-panel [title]=\"title\" [withHeader]=\"withHeader\">\n\n  <div #content [@showContent]=\"opened\">\n    <ng-content></ng-content>\n  </div>\n</igo-panel>\n","import {\n  trigger,\n  state,\n  style,\n  transition,\n  animate,\n  AnimationTriggerMetadata\n} from '@angular/animations';\n\nexport function showContent(\n  duration = '50ms',\n  delay = '280ms',\n  easing = 'ease-in-out'\n): AnimationTriggerMetadata {\n  return trigger('showContent', [\n    state('true', style({\n      opacity: 1,\n      display: 'block'\n    })),\n    state('false', style({\n      opacity: 0,\n      display: 'none'\n    })),\n    transition('false => true', animate(`${duration} ${delay} ${easing}`)),\n    transition('true => false', animate('0ms'))\n  ]);\n}\n","import {\n  Component,\n  Input,\n  Output,\n  OnInit,\n  OnDestroy,\n  EventEmitter,\n  ChangeDetectionStrategy\n} from '@angular/core';\n\nimport { BehaviorSubject, Subscription } from 'rxjs';\n\nimport { Tool, Toolbox } from '@igo2/common';\nimport { IgoMap } from '@igo2/geo';\nimport { ToolState, CatalogState } from '@igo2/integration';\nimport { ConfigService } from '@igo2/core';\n\n@Component({\n  selector: 'app-sidenav',\n  templateUrl: './sidenav.component.html',\n  styleUrls: ['./sidenav.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class SidenavComponent implements OnInit, OnDestroy {\n  title$: BehaviorSubject<string> = new BehaviorSubject<string>(undefined);\n\n  private activeTool$$: Subscription;\n\n  @Input()\n  get map(): IgoMap {\n    return this._map;\n  }\n  set map(value: IgoMap) {\n    this._map = value;\n  }\n  private _map: IgoMap;\n\n  @Input()\n  get opened(): boolean {\n    return this._opened;\n  }\n  set opened(value: boolean) {\n    if (value === this._opened) {\n      return;\n    }\n\n    this._opened = value;\n    this.openedChange.emit(this._opened);\n  }\n  private _opened: boolean;\n\n  @Output() openedChange = new EventEmitter<boolean>();\n  @Output() toolChange = new EventEmitter<Tool>();\n\n  get toolbox(): Toolbox {\n    return this.toolState.toolbox;\n  }\n\n  constructor(\n    private toolState: ToolState,\n    private configService: ConfigService,\n    private catalogState: CatalogState) {}\n\n  ngOnInit() {\n    this.activeTool$$ = this.toolbox.activeTool$.subscribe((tool: Tool) => {\n      const sidenavTitle = this.configService.getConfig('sidenavTitle') || 'IGO';\n      if (tool) {\n        if (tool.name === 'catalogBrowser') {\n          for (const catalog of this.catalogState.catalogStore.all()) {\n            if (this.catalogState.catalogStore.state.get(catalog).selected === true) {\n              this.title$.next(catalog.title);\n            }\n          }\n        } else if (tool.name === 'activeTimeFilter' || tool.name === 'activeOgcFilter') {\n          for (const layer of this.map.layers) {\n            if (layer.options.active === true) {\n              this.title$.next(layer.title);\n            }\n          }\n        } else {\n          this.title$.next(tool.title);\n        }\n      } else {\n        this.title$.next(sidenavTitle);\n      }\n      this.toolChange.emit(tool);\n    });\n  }\n\n  ngOnDestroy() {\n    this.activeTool$$.unsubscribe();\n  }\n\n  onPreviousButtonClick() {\n    this.toolbox.activatePreviousTool();\n  }\n\n  onUnselectButtonClick() {\n    this.toolbox.deactivateTool();\n  }\n}\n","<ng-container *ngFor=\"let element of mapOverlay; let i = index\">\n  <div class=\"mapOverlayDefault\" [ngClass]=\"element.cssClass\"\n       [style.position]=\"element.fixed ? 'fixed' : 'absolute'\"\n       [style.marginLeft]=\"element.marginLeft\"\n       [style.marginRight]=\"element.marginRight\"\n       [style.marginTop]=\"element.marginTop\"\n       [style.marginBottom]=\"element.marginBottom\"\n       [style.fontSize]=\"element.fontSize\">\n    <a *ngIf=\"element.link; else templateNoLink\"\n        target=\"_blank\" [href]='element.link'>\n        {{ element.text }}\n        <ng-container *ngIf=\"element.imgSrc\">\n          <img [src]=\"element.imgSrc\"\n               [alt]=\"element.alt\"\n               [ngStyle]=\"{ 'width': element.imgSize }\">\n        </ng-container>\n    </a>\n\n\n  <ng-template #templateNoLink>\n    {{ element.text }}\n    <ng-container *ngIf=\"element.imgSrc\">\n      <img [src]=\"element.imgSrc\" [alt]=\"element.alt\" [ngStyle]=\"{ 'width': element.imgSize }\">\n    </ng-container>\n\n  </ng-template>\n  </div>\n</ng-container>\n","import { Component, AfterViewInit, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { Context, ContextService } from '@igo2/context';\nimport { MediaService, ConfigService } from '@igo2/core';\nimport { MapOverlay } from './map-overlay.interface';\n\n@Component({\n  selector: 'app-map-overlay',\n  templateUrl: './map-overlay.component.html',\n  styleUrls: ['./map-overlay.component.scss']\n})\n\nexport class MapOverlayComponent implements AfterViewInit, OnDestroy {\n  public mapOverlay: MapOverlay[] = [];\n  private context$$: Subscription;\n  private media$$: Subscription;\n  private context: Context;\n\n  constructor(\n    private contextService: ContextService,\n    private mediaService: MediaService,\n    private configService: ConfigService\n  ) { }\n\n  ngAfterViewInit() {\n    this.context$$ = this.contextService.context$.subscribe(context => {\n        this.handleContextChange(context);\n        this.context = context;\n        }\n    );\n    this.media$$ = this.mediaService.media$.subscribe(media =>\n      this.handleContextChange(this.context)\n    );\n  }\n\n  ngOnDestroy() {\n    this.context$$.unsubscribe();\n    this.media$$.unsubscribe();\n  }\n\n  private handleContextChange(context: Context) {\n    let mapOverlay = [];\n    if (context !== undefined) {\n      this.mapOverlay = [];\n\n      if (context['mapOverlay']) {\n        mapOverlay = context['mapOverlay'];\n      } else if (this.configService.getConfig('mapOverlay')) {\n        mapOverlay = this.configService.getConfig('mapOverlay');\n      }\n      for (const overlay of mapOverlay) {\n\n        // If no media define use default to desktop, display only if current media is on context definition\n        if ((!overlay.media && this.mediaService.getMedia() === 'desktop') ||\n        (overlay.media && overlay.media.includes(this.mediaService.getMedia()))) {\n          this.mapOverlay.push(overlay);\n        }\n      }\n    }\n\n  }\n}\n","<mat-sidenav-container class=\"app-main-container\">\n  <mat-sidenav-content>\n\n    <igo-backdrop\n      [shown]=\"backdropShown\"\n      (click)=\"onBackdropClick()\">\n    </igo-backdrop>\n\n    <igo-menu-button *ngIf=\"showMenuButton\"\n      [sidenavOpened]=\"sidenavOpened\"\n      (openSidenav)=\"onToggleSidenavClick()\">\n    </igo-menu-button>\n\n    <igo-search-bar *ngIf=\"showSearchBar\"\n      #searchBar\n      [term]=\"searchBarTerm\"\n      [termSplitter]=\"termSplitter\"\n      [minLength]=\"minSearchTermLength\"\n      [searchSettings]=\"true\"\n      [forceNA]=\"forceCoordsNA\"\n      [store]=\"searchStore\"\n      (searchTermChange)=\"onSearchTermChange($event)\"\n      [pointerSummaryEnabled]=\"igoSearchPointerSummaryEnabled\"\n      (pointerSummaryStatus)=\"onPointerSummaryStatusChange($event)\"\n      [searchResultsGeometryEnabled]=\"searchResultsGeometryEnabled\"\n      (searchResultsGeometryStatus)=\"onSearchResultsGeometryStatusChange($event)\"\n      (search)=\"onSearch($event)\"\n      (clearFeature)=\"onClearSearch()\"\n      (searchSettingsChange)=\"onSearchSettingsChange()\">\n    </igo-search-bar>\n\n    <app-sidenav\n      [map]=\"map\"\n      [(opened)]=\"sidenavOpened\"\n      (toolChange)=\"toolChanged($event)\">\n    </app-sidenav>\n\n    <igo-map-browser\n      igoMapOffline\n      igoWorkspaceUpdator\n      [workspaceStore]=\"workspaceStore\"\n      igoLongPress\n      igoSearchPointerSummary\n      [igoSearchPointerSummaryDelay]=\"500\"\n      [igoSearchPointerSummaryEnabled]=\"igoSearchPointerSummaryEnabled\"\n      igoHoverFeature\n      [igoHoverFeatureDelay]=\"250\"\n      [igoHoverFeatureEnabled]=\"true\"\n      #mapBrowser\n      igoQuery\n      [waitForAllQueries]=\"true\"\n      [queryFeatures]=\"true\"\n      [queryFeaturesHitTolerance]=\"15\"\n      igoMapContext\n      igoLayerContext\n      igoDropGeoFile\n      (query)=\"onMapQuery($event)\"\n      [map]=\"map\"\n      [igoContextMenu]=contextMenu\n      (menuPosition)=\"onContextMenuOpen($event)\"\n      [ngClass]=\"{'igo-attribution-offset': map.getBaseLayers().length > 1}\"\n      [@mapStateX]=\"sidenavOpened ? 'right' : 'left'\"\n      (@mapStateX.start)=\"updateMapBrowserClass()\"\n      [@mapStateY]=\"getControlsOffsetY()\"\n      (@mapStateY.start)=\"updateMapBrowserClass()\">\n\n      <igo-zoom-button [map]=\"map\" color=\"primary\"\n        [@controlsOffsetY]=\"getControlsOffsetY()\">\n      </igo-zoom-button>\n      <igo-swipe-control [map]=\"map\"></igo-swipe-control>\n      <igo-map-center [map]=\"map\"></igo-map-center>\n      <igo-offline-button [map]=\"map\" color=\"primary\"\n        [@controlsOffsetY]=\"getControlsOffsetY()\"\n        [@mobileOffsetY]=\"getToastPanelStatus()\">\n      </igo-offline-button>\n      <igo-geolocate-button\n        *ngIf=\"hasGeolocateButton\"\n        [map]=\"map\" color=\"primary\"\n        [@controlsOffsetY]=\"getControlsOffsetY()\"\n        [@mobileOffsetY]=\"getToastPanelStatus()\">\n      </igo-geolocate-button>\n      <igo-rotation-button [showIfNoRotation]=\"showRotationButtonIfNoRotation\" [map]=\"map\" color=\"primary\"></igo-rotation-button>\n      <igo-home-extent-button\n        *ngIf=\"hasHomeExtentButton\"\n        [map]=\"map\"\n        [extentOverride]=\"homeExtent\"\n        [centerOverride]=\"homeCenter\"\n        [zoomOverride]=\"homeZoom\"\n        color=\"primary\">\n      </igo-home-extent-button>\n      <igo-user-button\n        *ngIf=\"auth.url\"\n        [map]=\"map\" color=\"primary\"\n        [@controlsOffsetY]=\"getControlsOffsetY()\"\n        [@mobileOffsetY]=\"getToastPanelStatus()\">\n      </igo-user-button>\n      <igo-baselayers-switcher [map]=\"map\"\n        [@controlsOffsetY]=\"getBaselayersSwitcherStatus()\"\n        [useStaticIcon]=\"true\">\n      </igo-baselayers-switcher>\n    </igo-map-browser>\n\n    <app-map-overlay\n      [@controlStateY]=\"getControlsOffsetY()\"\n      [@controlStateX]=\"(mediaService.media$ | async) !== 'mobile' &&\n                              sidenavOpened ? 'right' : 'left'\">\n    </app-map-overlay>\n\n  </mat-sidenav-content>\n</mat-sidenav-container>\n\n<app-expansion-panel\n  *ngIf=\"hasExpansionPanel && (workspaceState.workspaceEnabled$ | async)\"\n  [backdropShown]=\"expansionPanelBackdropShown\"\n  [(expanded)]=\"expansionPanelExpanded\"\n  [maximized]=\"workspaceMaximize$ | async\"\n  [@expansionPanelSize]=\"getExpansionPanelStatus()\"\n  [@toastOffsetY]=\"(isMobile() && !toastPanelOpened && queryState.store.entities$.value.length > 0 && !expansionPanelExpanded) ? 'true' : 'false'\">\n\n  <ng-container expansionPanelHeader>\n    <igo-workspace-selector\n      igoWorkspaceSelector\n      (toolToActivate)=\"toolToActivateFromWorkspace($event)\"\n      (changeWorkspace)=\"workspaceState.setActiveWorkspaceByTitle($event)\"\n      (disableSwitch)=\"workspaceSwitchDisabled = $event\"\n      (relationLayers)=\"refreshRelationsWorkspace($event)\"\n      (rowsInMapExtentCheckCondition)=\"workspaceState.rowsInMapExtentCheckCondition$.next($event)\"\n      [store]=\"workspaceStore\"\n      [disabled]=\"workspaceSwitchDisabled\"\n      [map]=\"map\">\n    </igo-workspace-selector>\n\n    <ng-container *ngIf=\"selectedWorkspace$ | async as workspace\">\n      <button\n        class=\"eye-workspace\"\n        mat-icon-button\n        [color]=\"workspace.layer.visible ? 'primary' : 'default'\"\n        collapsibleButton\n        tooltip-position=\"below\"\n        matTooltipShowDelay=\"500\"\n        [matTooltip]=\"workspace.layer.visible ?\n                      ('igo.geo.layer.hideLayer' | translate) :\n                      ('igo.geo.layer.showLayer' | translate)\"\n        (click)=\"workspace.layer.visible = !workspace.layer.visible\">\n        <mat-icon\n          [ngClass]=\"{disabled: (workspace.inResolutionRange$ | async)!==true}\"\n          [svgIcon]=\"workspace.layer.visible ? 'eye' : 'eye-off'\">\n        </mat-icon>\n      </button>\n      <button\n        *ngIf=\"isEditionWorkspace(workspace)\"\n        class=\"add-feature\"\n        mat-icon-button\n        color=\"primary\"\n        collapsibleButton\n        tooltip-position=\"below\"\n        matTooltipShowDelay=\"500\"\n        [disabled]=\"workspace.layer.options.sourceOptions.edition.addButton === false ? true : false\"\n        [matTooltip]=\"('workspace.addFeature') | translate\"\n        (click)=\"addFeature(workspace)\">\n        <mat-icon\n          svgIcon=\"plus\">\n        </mat-icon>\n      </button>\n      <igo-actionbar\n        class=\"actionbar-workspace\"\n        *ngIf=\"workspace.actionStore\"\n        [store]=\"workspace.actionStore\"\n        [withIcon]=\"true\"\n        [withTitle]=\"actionbarWithTitle\"\n        [horizontal]=\"true\"\n        [withToggleButton]=\"actionbarMode === 'overlay'\"\n        [iconColor]=\"'primary'\"\n        [color]=\"'primary'\"\n        [mode]=\"actionbarMode\"\n        [overlayClass]=\"workspaceMenuClass\">\n      </igo-actionbar>\n      <button\n        class=\"zoom-workspace\"\n        *ngIf=\"workspaceVisibility()\"\n        [disabled]= \"(workspaceState.workspaceSelection$ | async).length === 0 ? true : false\"\n        mat-icon-button\n        color=\"primary\"\n        collapsibleButton\n        tooltip-position=\"below\"\n        matTooltipShowDelay=\"500\"\n        [matTooltip]=\"('toastPanel.zoomOnFeaturesTooltip') | translate\"\n        (click)=\"zoomToSelectedFeatureWks()\">\n        <mat-icon\n        svgIcon=\"{{(workspaceState.workspaceSelection$ | async).length > 1 ?  'magnify-scan' : 'magnify-plus-outline'}}\">\n        </mat-icon>\n      </button>\n      <div class=\"spacer\"></div>\n      <igo-entity-table-paginator\n        *ngIf=\"workspaceVisibility()\"\n        [store]=\"workspace.entityStore\"\n        [entitySortChange$]=\"workspaceEntitySortChange$\"\n        [paginatorOptions]=\"paginatorOptions\"\n        (paginatorChange)=\"paginatorChange($event)\">\n      </igo-entity-table-paginator>\n    </ng-container>\n  </ng-container>\n\n  <ng-container *ngIf=\"selectedWorkspace$ | async as workspace\">\n    <igo-entity-table\n      [class]=\"isEditionWorkspace(workspace) ? 'edition-table' : ''\"\n      [paginator]=\"workspacePaginator\"\n      *ngIf=\"workspace.entityStore && workspace.meta && workspace.meta.tableTemplate && workspaceVisibility()\"\n      [store]=\"workspace.entityStore\"\n      (entitySortChange)=\"entitySortChange()\"\n      (entitySelectChange)=\"entitySelectChange($event)\"\n      [template]=\"workspace.meta.tableTemplate\">\n    </igo-entity-table>\n    <span class=\"mat-typography\">{{workspaceNotAvailableMessage | translate}}</span>\n  </ng-container>\n\n</app-expansion-panel>\n\n<app-toast-panel-for-expansion\n  [withHeader]=\"false\"\n  [(opened)]=\"toastPanelForExpansionOpened\">\n\n  <div class=\"toast-panel-for-expansion-close-button-container\">\n    <button\n      mat-icon-button\n      color=\"warn\"\n      (click)=\"toastPanelForExpansionOpened = false\">\n      <mat-icon svgIcon=\"close\"></mat-icon>\n    </button>\n  </div>\n\n  <igo-workspace-widget-outlet\n    *ngIf=\"selectedWorkspace$ | async as workspace\"\n    [workspace]=\"workspace\"\n    (deactivateWidget)=\"onDeactivateWorkspaceWidget()\">\n  </igo-workspace-widget-outlet>\n\n</app-toast-panel-for-expansion >\n\n<app-toast-panel *ngIf=\"(queryStore.empty$ | async)!==true\"\n  [map]=\"map\"\n  [store]=\"queryStore\"\n  [hasFeatureEmphasisOnSelection]=\"hasFeatureEmphasisOnSelection\"\n  [@toastPanelOffsetX]=\"toastPanelOffsetX$ | async\"\n  [@toastPanelOffsetY]=\"getToastPanelOffsetY()\"\n  [@toastPanelMobileSidenav]=\"(isMobile() && sidenavOpened) || (isTablet() && isPortrait() && sidenavOpened)\"\n  [opened]=\"toastPanelOpened\"\n  (openedChange)=\"toastOpenedChange($event)\"\n  (fullExtentEvent)=\"fullExtent = $event\"\n  (windowHtmlDisplayEvent)=\"setToastPanelHtmlDisplay($event)\">\n</app-toast-panel>\n\n<ng-template #contextMenu>\n  <igo-actionbar\n    [store]=\"contextMenuStore\"\n    [withIcon]=\"false\"\n    [horizontal]=\"true\"\n    mode=\"context\">\n  </igo-actionbar>\n</ng-template>\n","import {\n  Component,\n  OnInit,\n  OnDestroy,\n  ChangeDetectorRef,\n  ViewChild,\n  ElementRef\n} from '@angular/core';\nimport { ActivatedRoute, Params } from '@angular/router';\nimport { Subscription, of, BehaviorSubject, combineLatest, zip } from 'rxjs';\nimport { debounceTime, take, pairwise, skipWhile, first, concatMap, delay } from 'rxjs/operators';\nimport { MatDialog, MatDialogConfig, MatDialogRef } from '@angular/material/dialog';\nimport MapBrowserEvent from 'ol/MapBrowserEvent';\nimport * as olProj from 'ol/proj';\nimport olFeature from 'ol/Feature';\nimport type { default as OlGeometry } from 'ol/geom/Geometry';\n\nimport {\n  MediaService,\n  Media,\n  MediaOrientation,\n  ConfigService,\n  LanguageService,\n  MessageService,\n  StorageService\n} from '@igo2/core';\nimport {\n  ActionbarMode,\n  Workspace,\n  WorkspaceStore,\n  ActionStore,\n  EntityStore,\n  // getEntityTitle,\n  Toolbox,\n  Tool,\n  Widget,\n  EntityTablePaginatorOptions,\n  EntityRecord\n} from '@igo2/common';\nimport { AuthOptions, AuthService } from '@igo2/auth';\nimport { DetailedContext } from '@igo2/context';\nimport {\n  DataSourceService,\n  Feature,\n  FEATURE,\n  featureToSearchResult,\n  GoogleLinks,\n  IgoMap,\n  LayerService,\n  QuerySearchSource,\n  Research,\n  SearchResult,\n  SearchSource,\n  SearchSourceService,\n  CapabilitiesService,\n  sourceCanSearch,\n  sourceCanReverseSearch,\n  ImportService,\n  handleFileImportError,\n  handleFileImportSuccess,\n  featureFromOl,\n  QueryService,\n  WfsWorkspace,\n  FeatureWorkspace,\n  EditionWorkspace,\n  EditionWorkspaceService,\n  generateIdFromSourceOptions,\n  computeOlFeaturesExtent,\n  addStopToStore,\n  ImageLayer,\n  VectorLayer,\n  MapExtent,\n  moveToOlFeatures,\n  FeatureMotion,\n  ConfigFileToGeoDBService\n} from '@igo2/geo';\n\nimport {\n  ToolState,\n  MapState,\n  SearchState,\n  QueryState,\n  ContextState,\n  WorkspaceState,\n  DirectionState\n} from '@igo2/integration';\n\nimport {\n  expansionPanelAnimation,\n  toastPanelAnimation,\n  controlsAnimations,\n  controlSlideX,\n  controlSlideY,\n  mapSlideX,\n  mapSlideY\n} from './portal.animation';\nimport { HttpClient, HttpParams } from '@angular/common/http';\n\nimport { WelcomeWindowComponent } from './welcome-window/welcome-window.component';\nimport { WelcomeWindowService } from './welcome-window/welcome-window.service';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { ObjectUtils } from '@igo2/utils';\nimport olFormatGeoJSON from 'ol/format/GeoJSON';\nimport { PwaService } from '../../services/pwa.service';\n\n@Component({\n  selector: 'app-portal',\n  templateUrl: './portal.component.html',\n  styleUrls: ['./portal.component.scss'],\n  animations: [\n    expansionPanelAnimation(),\n    toastPanelAnimation(),\n    controlsAnimations(),\n    controlSlideX(),\n    controlSlideY(),\n    mapSlideX(),\n    mapSlideY()\n  ]\n})\nexport class PortalComponent implements OnInit, OnDestroy {\n  public toastPanelOffsetX$: BehaviorSubject<string> = new BehaviorSubject(undefined);\n  public sidenavOpened$: BehaviorSubject<boolean> = new BehaviorSubject(false);\n  public minSearchTermLength = 2;\n  public hasExpansionPanel = false;\n  public hasGeolocateButton = true;\n  public hasHomeExtentButton = false;\n  public showMenuButton = true;\n  public showSearchBar = true;\n  public showRotationButtonIfNoRotation = false;\n  public hasFeatureEmphasisOnSelection: Boolean = false;\n  public workspaceNotAvailableMessage: String = 'workspace.disabled.resolution';\n  public workspacePaginator: MatPaginator;\n  public workspaceEntitySortChange$: BehaviorSubject<boolean> = new BehaviorSubject(false);\n  public workspaceSwitchDisabled = false;\n  public paginatorOptions: EntityTablePaginatorOptions = {\n    pageSize: 50, // Number of items to display on a page.\n    pageSizeOptions: [1, 5, 10, 20, 50, 100, 500] // The set of provided page size options to display to the user.\n  };\n  public workspaceMenuClass = 'workspace-menu';\n\n  public fullExtent = this.storageService.get('fullExtent') as boolean;\n  private workspaceMaximize$$: Subscription[] = [];\n  readonly workspaceMaximize$: BehaviorSubject<boolean> = new BehaviorSubject(\n    this.storageService.get('workspaceMaximize') as boolean\n  );\n\n  public matDialogRef$ = new BehaviorSubject<MatDialogRef<any>>(undefined);\n  public searchBarTerm = '';\n  public onSettingsChange$ = new BehaviorSubject<boolean>(undefined);\n  public termDefinedInUrl = false;\n  public termSplitter = '|';\n  public termDefinedInUrlTriggered = false;\n  private addedLayers$$: Subscription[] = [];\n  public forceCoordsNA = false;\n\n  public contextMenuStore = new ActionStore([]);\n  private contextMenuCoord: [number, number];\n\n  private contextLoaded = false;\n\n  private context$$: Subscription;\n  private openSidenav$$: Subscription;\n  private sidenavMediaAndOrientation$$: Subscription;\n\n  public igoSearchPointerSummaryEnabled: boolean;\n\n  public toastPanelForExpansionOpened = true;\n  private activeWidget$$: Subscription;\n  public showToastPanelForExpansionToggle = false;\n  public selectedWorkspace$: BehaviorSubject<Workspace> = new BehaviorSubject(\n    undefined\n  );\n  private routeParams: Params;\n  public toastPanelHtmlDisplay = false;\n\n  public homeExtent: MapExtent;\n  public homeCenter: [number, number];\n  public homeZoom: number;\n  @ViewChild('mapBrowser', { read: ElementRef, static: true })\n  mapBrowser: ElementRef;\n  @ViewChild('searchBar', { read: ElementRef, static: true })\n  searchBar: ElementRef;\n\n  get map(): IgoMap {\n    return this.mapState.map;\n  }\n\n  get sidenavOpened(): boolean {\n    return this.sidenavOpened$.value;\n  }\n\n  set sidenavOpened(value: boolean) {\n    this.sidenavOpened$.next(value);\n  }\n\n  get auth(): AuthOptions {\n    return this.configService.getConfig('auth') || [];\n  }\n\n  get toastPanelOpened(): boolean {\n    return this._toastPanelOpened;\n  }\n  set toastPanelOpened(value: boolean) {\n    if (value !== !this._toastPanelOpened) {\n      return;\n    }\n    this._toastPanelOpened = value;\n    this.cdRef.detectChanges();\n  }\n  private _toastPanelOpened =\n    (this.storageService.get('toastOpened') as boolean) !== false;\n\n  isMobile(): boolean {\n    return this.mediaService.getMedia() === Media.Mobile;\n  }\n\n  isTablet(): boolean {\n    return this.mediaService.getMedia() === Media.Tablet;\n  }\n\n  isLandscape(): boolean {\n    return this.mediaService.getOrientation() === MediaOrientation.Landscape;\n  }\n\n  isPortrait(): boolean {\n    return this.mediaService.getOrientation() === MediaOrientation.Portrait;\n  }\n\n  get backdropShown(): boolean {\n    return (\n      (this.isMobile() || (this.isTablet() && this.isPortrait())) &&\n      this.sidenavOpened\n    );\n  }\n\n  get expansionPanelExpanded(): boolean {\n    return this.workspaceState.workspacePanelExpanded;\n  }\n  set expansionPanelExpanded(value: boolean) {\n    this.workspaceState.workspacePanelExpanded = value;\n    if (value === true) {\n      this.map.viewController.setPadding({bottom: 280});\n    } else {\n      this.map.viewController.setPadding({bottom: 0});\n    }\n  }\n\n  get toastPanelShown(): boolean {\n    return true;\n  }\n\n  get expansionPanelBackdropShown(): boolean {\n    return this.expansionPanelExpanded && this.toastPanelForExpansionOpened;\n  }\n\n  get actionbarMode(): ActionbarMode {\n    return ActionbarMode.Overlay;\n  }\n\n  get actionbarWithTitle(): boolean {\n    return this.actionbarMode === ActionbarMode.Overlay;\n  }\n\n  get searchStore(): EntityStore<SearchResult> {\n    return this.searchState.store;\n  }\n\n  get searchResultsGeometryEnabled(): boolean {\n    return this.searchState.searchResultsGeometryEnabled$.value;\n  }\n\n  get queryStore(): EntityStore<SearchResult> {\n    return this.queryState.store;\n  }\n\n  get toolbox(): Toolbox {\n    return this.toolState.toolbox;\n  }\n\n  get toastPanelContent(): string {\n    let content;\n    if (this.workspace !== undefined && this.workspace.hasWidget) {\n      content = 'workspace';\n    } /*else if (this.searchResult !== undefined) {\n      content = this.searchResult.meta.dataType.toLowerCase();\n    }*/\n    return content;\n  }\n\n  // get toastPanelTitle(): string {\n  //   let title;\n  //   if (\n  //     this.toastPanelContent !== 'workspace' &&\n  //     this.searchResult !== undefined\n  //   ) {\n  //     title = getEntityTitle(this.searchResult);\n  //   }\n  //   return title;\n  // }\n\n  get workspaceStore(): WorkspaceStore {\n    return this.workspaceState.store;\n  }\n\n  get workspace(): Workspace {\n    return this.workspaceState.workspace$.value;\n  }\n\n  constructor(\n    private route: ActivatedRoute,\n    public workspaceState: WorkspaceState,\n    public authService: AuthService,\n    public mediaService: MediaService,\n    public layerService: LayerService,\n    public dataSourceService: DataSourceService,\n    public cdRef: ChangeDetectorRef,\n    public capabilitiesService: CapabilitiesService,\n    private contextState: ContextState,\n    private mapState: MapState,\n    private searchState: SearchState,\n    private queryState: QueryState,\n    private toolState: ToolState,\n    private searchSourceService: SearchSourceService,\n    private configService: ConfigService,\n    private importService: ImportService,\n    private http: HttpClient,\n    private languageService: LanguageService,\n    private messageService: MessageService,\n    private welcomeWindowService: WelcomeWindowService,\n    public dialogWindow: MatDialog,\n    private queryService: QueryService,\n    private storageService: StorageService,\n    private editionWorkspaceService: EditionWorkspaceService,\n    private directionState: DirectionState,\n    private pwaService: PwaService,\n    private configFileToGeoDBService: ConfigFileToGeoDBService\n  ) {\n    this.hasExpansionPanel = this.configService.getConfig('hasExpansionPanel');\n    this.hasHomeExtentButton =\n      this.configService.getConfig('homeExtentButton') === undefined ? false : true;\n    this.hasGeolocateButton = this.configService.getConfig('hasGeolocateButton') === undefined ? true :\n      this.configService.getConfig('hasGeolocateButton');\n    this.showRotationButtonIfNoRotation = this.configService.getConfig('showRotationButtonIfNoRotation') === undefined ? false :\n      this.configService.getConfig('showRotationButtonIfNoRotation');\n    this.showMenuButton = this.configService.getConfig('showMenuButton') === undefined ? true :\n      this.configService.getConfig('showMenuButton');\n    this.showSearchBar = this.configService.getConfig('searchBar.showSearchBar') === undefined ? true :\n      this.configService.getConfig('searchBar.showSearchBar');\n    this.forceCoordsNA = this.configService.getConfig('app.forceCoordsNA');\n    this.hasFeatureEmphasisOnSelection = this.configService.getConfig('hasFeatureEmphasisOnSelection');\n\n\n    this.igoSearchPointerSummaryEnabled = this.configService.getConfig('hasSearchPointerSummary');\n    if (this.igoSearchPointerSummaryEnabled === undefined) {\n      this.igoSearchPointerSummaryEnabled = this.storageService.get('searchPointerSummaryEnabled') as boolean || false;\n    }\n  }\n\n  ngOnInit() {\n    window['IGO'] = this;\n    this.searchState.searchTermSplitter$.next(this.termSplitter);\n\n    this.initWelcomeWindow();\n\n    this.route.queryParams.subscribe((params) => {\n      this.readLanguageParam(params);\n    });\n\n    this.authService.authenticate$.subscribe((authenticated) => {\n      this.contextLoaded = false;\n    });\n\n    this.context$$ = this.contextState.context$.subscribe(\n      (context: DetailedContext) => this.onChangeContext(context)\n    );\n\n    const contextActions = [{\n      id: 'coordinates',\n      title: 'coordinates',\n      handler: () => this.searchCoordinate(this.contextMenuCoord)\n    },\n    {\n      id: 'googleMaps',\n      title: 'googleMap',\n      handler: () => this.openGoogleMaps(this.contextMenuCoord)\n    },\n    {\n      id: 'googleStreetView',\n      title: 'googleStreetView',\n      handler: () => this.openGoogleStreetView(this.contextMenuCoord)\n    }];\n\n    this.contextMenuStore.load(contextActions);\n\n    this.queryStore.count$\n      .pipe(pairwise())\n      .subscribe(([prevCnt, currentCnt]) => {\n        this.map.viewController.padding[2] = currentCnt ? 280 : 0;\n        // on mobile. Close the toast if workspace is opened, on new query\n        if (\n          prevCnt === 0 &&\n          currentCnt !== prevCnt &&\n          this.isMobile() &&\n          this.hasExpansionPanel &&\n          this.expansionPanelExpanded &&\n          this.toastPanelOpened\n        ) {\n          this.toastPanelOpened = false;\n        }\n      });\n    this.map.ol.once('rendercomplete', () => {\n      this.readQueryParams();\n      if (this.configService.getConfig('geolocate.activateDefault') !== undefined) {\n        this.map.geolocationController.tracking = this.configService.getConfig('geolocate.activateDefault');\n      }\n    });\n\n    this.onSettingsChange$.subscribe(() => {\n      this.searchState.setSearchSettingsChange();\n    });\n\n    this.searchState.selectedResult$.subscribe((result) => {\n      if (result && this.isMobile()) {\n        this.closeSidenav();\n      }\n    });\n\n    this.workspaceState.workspaceEnabled$.next(this.hasExpansionPanel);\n    this.workspaceState.store.empty$.subscribe((workspaceEmpty) => {\n      if (!this.hasExpansionPanel) {\n        return;\n      }\n      this.workspaceState.workspaceEnabled$.next(workspaceEmpty ? false : true);\n      if (workspaceEmpty) {\n        this.expansionPanelExpanded = false;\n      }\n      this.updateMapBrowserClass();\n    });\n\n    this.workspaceMaximize$$.push(this.workspaceState.workspaceMaximize$.subscribe((workspaceMaximize) => {\n      this.workspaceMaximize$.next(workspaceMaximize);\n      this.updateMapBrowserClass();\n    }));\n    this.workspaceMaximize$$.push(\n      this.workspaceMaximize$.subscribe(() => this.updateMapBrowserClass())\n    );\n\n    this.workspaceState.workspace$.subscribe((activeWks: WfsWorkspace | FeatureWorkspace | EditionWorkspace) => {\n      if (activeWks) {\n        this.selectedWorkspace$.next(activeWks);\n        this.expansionPanelExpanded = true;\n\n        if (activeWks.layer.options.workspace?.pageSize && activeWks.layer.options.workspace?.pageSizeOptions) {\n          this.paginatorOptions = {\n            pageSize: activeWks.layer.options.workspace?.pageSize,\n            pageSizeOptions: activeWks.layer.options.workspace?.pageSizeOptions\n          };\n        } else {\n          this.paginatorOptions = {\n            pageSize: 50,\n            pageSizeOptions: [1, 5, 10, 20, 50, 100, 500]\n          };\n        }\n      } else {\n        this.expansionPanelExpanded = false;\n      }\n    });\n\n    this.activeWidget$$ = this.workspaceState.activeWorkspaceWidget$.subscribe(\n      (widget: Widget) => {\n        if (widget !== undefined) {\n          this.openToastPanelForExpansion();\n          this.showToastPanelForExpansionToggle = true;\n        } else {\n          this.closeToastPanelForExpansion();\n          this.showToastPanelForExpansionToggle = false;\n        }\n      }\n    );\n\n    this.openSidenav$$ = this.toolState.openSidenav$.subscribe(\n      (openSidenav: boolean) => {\n        if (openSidenav) {\n          this.openSidenav();\n          this.toolState.openSidenav$.next(false);\n        }\n      }\n    );\n\n    this.sidenavMediaAndOrientation$$ =\n      combineLatest([\n        this.sidenavOpened$,\n        this.mediaService.media$,\n        this.mediaService.orientation$]\n      ).pipe(\n        debounceTime(50)\n      ).subscribe((sidenavMediaAndOrientation: [boolean, string, string]) => {\n        this.computeToastPanelOffsetX();\n      });\n\n    if (this.configService.getConfig('importExport')) {\n      const configFileToGeoDBService = this.configService.getConfig('importExport.configFileToGeoDBService');\n      if (configFileToGeoDBService) {\n        this.configFileToGeoDBService.load(configFileToGeoDBService);\n      }\n    }\n    // this.initSW();\n  }\n\n  private initSW() {\n    const dataDownload = this.configService.getConfig('pwa.dataDownload');\n    if ('serviceWorker' in navigator && dataDownload) {\n      let downloadMessage;\n      let currentVersion;\n      const dataLoadSource = this.storageService.get('dataLoadSource');\n      navigator.serviceWorker.ready.then((registration) => {\n        console.log('Service Worker Ready');\n        this.http.get('ngsw.json').pipe(\n          concatMap((ngsw: any) => {\n            const datas$ = [];\n            let hasDataInDataDir: boolean = false;\n            if (ngsw) {\n              // IF FILE NOT IN THIS LIST... DELETE?\n              currentVersion = ngsw.appData.version;\n              const cachedDataVersion = this.storageService.get('cachedDataVersion');\n              if (currentVersion !== cachedDataVersion && dataLoadSource === 'pending') {\n                this.pwaService.updates.checkForUpdate();\n              }\n              if (dataLoadSource === 'newVersion' || !dataLoadSource) {\n                ((ngsw as any).assetGroups as any).map((assetGroup) => {\n                  if (assetGroup.name === 'contexts') {\n                    const elemToDownload = assetGroup.urls.concat(assetGroup.files).filter(f => f);\n                    elemToDownload.map((url, i) => datas$.push(this.http.get(url).pipe(delay(750))));\n                  }\n                });\n                if (hasDataInDataDir) {\n                  const message = this.languageService.translate.instant('pwa.data-download-start');\n                  downloadMessage = this.messageService\n                    .info(message, undefined, { disableTimeOut: true, progressBar: false, closeButton: true, tapToDismiss: false });\n                  this.storageService.set('cachedDataVersion', currentVersion);\n                }\n                return zip(...datas$);\n              }\n\n            }\n            return zip(...datas$);\n          })\n        )\n          .pipe(delay(1000))\n          .subscribe(() => {\n            if (downloadMessage) {\n              this.messageService.remove((downloadMessage as any).toastId);\n              const message = this.languageService.translate.instant('pwa.data-download-completed');\n              this.messageService.success(message, undefined, { timeOut: 40000 });\n              if (currentVersion) {\n                this.storageService.set('dataLoadSource', 'pending');\n                this.storageService.set('cachedDataVersion', currentVersion);\n              }\n            }\n          });\n\n      });\n    }\n  }\n\n  setToastPanelHtmlDisplay(value) {\n    this.toastPanelHtmlDisplay = value;\n    this.computeToastPanelOffsetX();\n  }\n\n  computeToastPanelOffsetX() {\n    if (this.isMobile() || !this.isLandscape()) {\n      Promise.resolve().then(() => this.toastPanelOffsetX$.next(undefined));\n    } else {\n      Promise.resolve().then(() => this.toastPanelOffsetX$.next(this.getToastPanelExtent()));\n    }\n  }\n\n  workspaceVisibility(): boolean {\n    const wks = (this.selectedWorkspace$.value as WfsWorkspace | FeatureWorkspace | EditionWorkspace);\n    if (wks.inResolutionRange$.value) {\n      if (wks.entityStore.empty$.value && !wks.layer.visible) {\n        this.workspaceNotAvailableMessage = 'workspace.disabled.visible';\n      } else {\n        this.workspaceNotAvailableMessage = '';\n      }\n    } else {\n      this.workspaceNotAvailableMessage = 'workspace.disabled.resolution';\n    }\n    return wks.inResolutionRange$.value;\n  }\n\n  isEditionWorkspace(workspace) {\n    if (workspace instanceof EditionWorkspace) {\n      return true;\n    }\n    return false;\n  }\n\n  addFeature(workspace: EditionWorkspace) {\n    let feature = {\n      type: \"Feature\",\n      properties: {}\n    };\n    feature.properties = this.createFeatureProperties(workspace.layer);\n    this.workspaceState.rowsInMapExtentCheckCondition$.next(false);\n    workspace.editFeature(feature, workspace);\n  }\n\n  createFeatureProperties(layer: ImageLayer | VectorLayer) {\n    let properties = {};\n    layer.options.sourceOptions.sourceFields.forEach(field => {\n      if (!field.primary && field.visible) {\n        properties[field.name] = '';\n      }\n    });\n    return properties;\n  }\n\n  paginatorChange(matPaginator: MatPaginator) {\n    this.workspacePaginator = matPaginator;\n  }\n\n  entitySortChange() {\n    this.workspaceEntitySortChange$.next(true);\n  }\n\n  entitySelectChange(result: { added: Feature[] }) {\n    const baseQuerySearchSource = this.getQuerySearchSource();\n    const querySearchSourceArray: QuerySearchSource[] = [];\n\n    if (this.selectedWorkspace$.value instanceof WfsWorkspace || this.selectedWorkspace$.value instanceof FeatureWorkspace) {\n      if (!this.selectedWorkspace$.value.getLayerWksOptionTabQuery()) {return;}\n    }\n    if (result && result.added) {\n      const results = result.added.map((res) => {\n        if (\n          res &&\n          res.ol &&\n          res.ol.getProperties()._featureStore.layer &&\n          res.ol.getProperties()._featureStore.layer.visible\n        ) {\n          const ol = res.ol as olFeature<OlGeometry>;\n          const featureStoreLayer = res.ol.getProperties()._featureStore.layer;\n          const feature = featureFromOl(\n            ol,\n            featureStoreLayer.map.projection,\n            featureStoreLayer.ol\n          );\n\n          feature.meta.alias = this.queryService.getAllowedFieldsAndAlias(\n            featureStoreLayer\n          );\n          feature.meta.title =\n            this.queryService.getQueryTitle(feature, featureStoreLayer) ||\n            feature.meta.title;\n          let querySearchSource = querySearchSourceArray.find(\n            (s) => s.title === feature.meta.sourceTitle\n          );\n          if (!querySearchSource) {\n            querySearchSource = new QuerySearchSource({\n              title: feature.meta.sourceTitle\n            });\n            querySearchSourceArray.push(querySearchSource);\n          }\n          return featureToSearchResult(feature, querySearchSource);\n        }\n      });\n\n      const research = {\n        request: of(results),\n        reverse: false,\n        source: baseQuerySearchSource\n      };\n      research.request.subscribe((queryResults: SearchResult<Feature>[]) => {\n        this.queryStore.load(queryResults);\n      });\n    }\n  }\n\n  ngOnDestroy() {\n    this.context$$.unsubscribe();\n    this.activeWidget$$.unsubscribe();\n    this.openSidenav$$.unsubscribe();\n    this.workspaceMaximize$$.map(f => f.unsubscribe());\n    this.sidenavMediaAndOrientation$$.unsubscribe();\n  }\n\n  /**\n   * Cancel ongoing add layer, if any\n   */\n  private cancelOngoingAddLayer() {\n    this.addedLayers$$.forEach((sub: Subscription) => sub.unsubscribe());\n    this.addedLayers$$ = [];\n  }\n\n  onBackdropClick() {\n    this.closeSidenav();\n  }\n\n  onToggleSidenavClick() {\n    this.toggleSidenav();\n  }\n\n  onDeactivateWorkspaceWidget() {\n    this.closeToastPanelForExpansion();\n  }\n\n  closeToastPanelForExpansion() {\n    this.toastPanelForExpansionOpened = false;\n  }\n\n  openToastPanelForExpansion() {\n    this.toastPanelForExpansionOpened = true;\n  }\n\n  onMapQuery(event: { features: Feature[]; event: MapBrowserEvent<any> }) {\n    const baseQuerySearchSource = this.getQuerySearchSource();\n    const querySearchSourceArray: QuerySearchSource[] = [];\n    const results = event.features.map((feature: Feature) => {\n      let querySearchSource = querySearchSourceArray.find(\n        (s) => s.title === feature.meta.sourceTitle\n      );\n      if (this.getFeatureIsSameActiveWks(feature)) {\n        if (this.getWksActiveOpenInResolution() && !(this.workspace as WfsWorkspace).getLayerWksOptionMapQuery()) {\n          return;\n        }\n      }\n      if (!querySearchSource) {\n        querySearchSource = new QuerySearchSource({\n          title: feature.meta.sourceTitle\n        });\n        querySearchSourceArray.push(querySearchSource);\n      }\n      return featureToSearchResult(feature, querySearchSource);\n    });\n    const filteredResults = results.filter(x => x !== undefined);\n    const research = {\n      request: of(filteredResults),\n      reverse: false,\n      source: baseQuerySearchSource\n    };\n    research.request.subscribe((queryResults: SearchResult<Feature>[]) => {\n      this.queryStore.load(queryResults);\n    });\n  }\n\n  onSearchTermChange(term?: string) {\n    if (this.routeParams?.search && term !== this.routeParams.search) {\n      this.searchState.deactivateCustomFilterTermStrategy();\n    }\n\n    this.searchState.setSearchTerm(term);\n    const termWithoutHashtag = term.replace(/(#[^\\s]*)/g, '').trim();\n    if (termWithoutHashtag.length < 2) {\n      this.onClearSearch();\n      return;\n    }\n    this.onBeforeSearch();\n  }\n\n  onSearch(event: { research: Research; results: SearchResult[] }) {\n    const results = event.results;\n\n    const isReverseSearch = !sourceCanSearch(event.research.source);\n\n    let enabledSources;\n    if (isReverseSearch) {\n      enabledSources = this.searchSourceService\n        .getEnabledSources()\n        .filter(sourceCanReverseSearch);\n    } else {\n      enabledSources = this.searchSourceService\n        .getEnabledSources()\n        .filter(sourceCanSearch);\n    }\n\n    const newResults = this.searchStore.entities$.value\n      .filter(\n        (result: SearchResult) =>\n          result.source !== event.research.source &&\n          enabledSources.includes(result.source)\n      )\n      .concat(results);\n    this.searchStore.updateMany(newResults);\n  }\n\n  onSearchResultsGeometryStatusChange(value) {\n    this.searchState.setSearchResultsGeometryStatus(value);\n  }\n\n  onSearchSettingsChange() {\n    this.onSettingsChange$.next(true);\n  }\n\n  private closeSidenav() {\n    this.sidenavOpened = false;\n    this.map.viewController.padding[3] = 0;\n  }\n\n  private openSidenav() {\n    this.sidenavOpened = true;\n    this.map.viewController.padding[3] = this.isMobile() ? 0 : 400;\n  }\n\n  private toggleSidenav() {\n    this.sidenavOpened ? this.closeSidenav() : this.openSidenav();\n    this.computeToastPanelOffsetX();\n  }\n\n  public toolChanged(tool: Tool) {\n    if (tool && tool.name === 'searchResults' && this.searchBar) {\n      this.searchBar.nativeElement.getElementsByTagName('input')[0].focus();\n    }\n  }\n\n  private computeHomeExtentValues(context: DetailedContext) {\n    if (context?.map?.view?.homeExtent) {\n      this.homeExtent = context.map.view.homeExtent.extent;\n      this.homeCenter = context.map.view.homeExtent.center;\n      this.homeZoom = context.map.view.homeExtent.zoom;\n    } else {\n      this.homeExtent = undefined;\n      this.homeCenter = undefined;\n      this.homeZoom = undefined;\n    }\n\n  }\n\n  private onChangeContext(context: DetailedContext) {\n    this.cancelOngoingAddLayer();\n    if (context === undefined) {\n      return;\n    }\n    if (this.workspace && !this.workspace.entityStore.empty) {\n      this.workspace.entityStore.clear();\n    }\n    if (!this.queryState.store.empty) {\n      this.queryState.store.softClear();\n    }\n\n    this.computeHomeExtentValues(context);\n\n    this.route.queryParams.pipe(debounceTime(250)).subscribe((qParams) => {\n      if (!qParams['context'] || qParams['context'] === context.uri) {\n        this.readLayersQueryParams(qParams);\n      }\n    });\n\n    if (this.contextLoaded) {\n      const contextManager = this.toolbox.getTool('contextManager');\n      const contextManagerOptions = contextManager\n        ? contextManager.options\n        : {};\n      let toolToOpen = contextManagerOptions.toolToOpenOnContextChange;\n\n      if (!toolToOpen) {\n        const toolOrderToOpen = ['mapTools', 'map', 'mapDetails', 'mapLegend'];\n        for (const toolName of toolOrderToOpen) {\n          if (this.toolbox.getTool(toolName)) {\n            toolToOpen = toolName;\n            break;\n          }\n        }\n      }\n\n      if (toolToOpen) {\n        this.toolbox.activateTool(toolToOpen);\n      }\n    }\n\n    this.contextLoaded = true;\n  }\n\n  private onBeforeSearch() {\n    if (\n      !this.toolbox.activeTool$.value ||\n      this.toolbox.activeTool$.value.name !== 'searchResults'\n    ) {\n      this.toolbox.activateTool('searchResults');\n    }\n    this.openSidenav();\n  }\n\n  toastOpenedChange(opened: boolean) {\n    this.map.viewController.padding[2] = opened ? 280 : 0;\n    this.handleExpansionAndToastOnMobile();\n    this.toastPanelOpened = opened;\n  }\n\n  private handleExpansionAndToastOnMobile() {\n    if (\n      this.isMobile() &&\n      this.hasExpansionPanel &&\n      this.expansionPanelExpanded &&\n      this.toastPanelOpened\n    ) {\n      this.expansionPanelExpanded = false;\n    }\n  }\n\n  public onClearSearch() {\n    this.map.searchResultsOverlay.clear();\n    this.searchStore.clear();\n    this.searchState.setSelectedResult(undefined);\n    this.searchState.deactivateCustomFilterTermStrategy();\n  }\n\n  private getQuerySearchSource(): SearchSource {\n    return this.searchSourceService\n      .getSources()\n      .find(\n        (searchSource: SearchSource) =>\n          searchSource instanceof QuerySearchSource\n      );\n  }\n\n  onContextMenuOpen(event: { x: number; y: number }) {\n    this.contextMenuCoord = this.getClickCoordinate(event) as [number, number];\n  }\n\n  private getClickCoordinate(event: { x: number; y: number }) {\n    const contextmenuPoint = event;\n    const boundingMapBrowser = this.mapBrowser.nativeElement.getBoundingClientRect();\n    contextmenuPoint.y =\n      contextmenuPoint.y -\n      boundingMapBrowser.top +\n      (window.scrollY || window.pageYOffset);\n    contextmenuPoint.x =\n      contextmenuPoint.x -\n      boundingMapBrowser.left +\n      (window.scrollX || window.pageXOffset);\n    const pixel = [contextmenuPoint.x, contextmenuPoint.y];\n\n    const coord = this.map.ol.getCoordinateFromPixel(pixel);\n    const proj = this.map.projection;\n    return olProj.transform(coord, proj, 'EPSG:4326');\n  }\n\n  private openGoogleMaps(coord: [number, number]) {\n    window.open(GoogleLinks.getGoogleMapsCoordLink(coord[0], coord[1]));\n  }\n\n  private openGoogleStreetView(coord: [number, number]) {\n    window.open(GoogleLinks.getGoogleStreetViewLink(coord[0], coord[1]));\n  }\n\n  searchCoordinate(coord: [number, number]) {\n    this.searchBarTerm = coord.map((c) => c.toFixed(6)).join(', ');\n  }\n\n  updateMapBrowserClass() {\n    const header = this.queryState.store.entities$.value.length > 0;\n    if (this.hasExpansionPanel && this.workspaceState.workspaceEnabled$.value) {\n      this.mapBrowser.nativeElement.classList.add('has-expansion-panel');\n    } else {\n      this.mapBrowser.nativeElement.classList.remove('has-expansion-panel');\n    }\n\n    if (this.hasExpansionPanel && this.expansionPanelExpanded) {\n      if (this.workspaceMaximize$.value) {\n        this.mapBrowser.nativeElement.classList.add('expansion-offset-maximized');\n        this.mapBrowser.nativeElement.classList.remove('expansion-offset');\n      } else {\n        this.mapBrowser.nativeElement.classList.add('expansion-offset');\n        this.mapBrowser.nativeElement.classList.remove('expansion-offset-maximized');\n      }\n    } else {\n      if (this.workspaceMaximize$.value) {\n        this.mapBrowser.nativeElement.classList.remove('expansion-offset-maximized');\n      } else {\n        this.mapBrowser.nativeElement.classList.remove('expansion-offset');\n      }\n    }\n\n    if (this.sidenavOpened) {\n      this.mapBrowser.nativeElement.classList.add('sidenav-offset');\n    } else {\n      this.mapBrowser.nativeElement.classList.remove('sidenav-offset');\n    }\n\n    if (this.sidenavOpened && !this.isMobile()) {\n      this.mapBrowser.nativeElement.classList.add('sidenav-offset-baselayers');\n    } else {\n      this.mapBrowser.nativeElement.classList.remove(\n        'sidenav-offset-baselayers'\n      );\n    }\n\n    if (!this.toastPanelOpened && header && !this.expansionPanelExpanded) {\n      this.mapBrowser.nativeElement.classList.add('toast-offset-scale-line');\n    } else {\n      this.mapBrowser.nativeElement.classList.remove('toast-offset-scale-line');\n    }\n\n    if (\n      !this.toastPanelOpened &&\n      header &&\n      (this.isMobile() || this.isTablet() || this.sidenavOpened) &&\n      !this.expansionPanelExpanded\n    ) {\n      this.mapBrowser.nativeElement.classList.add('toast-offset-attribution');\n    } else {\n      this.mapBrowser.nativeElement.classList.remove(\n        'toast-offset-attribution'\n      );\n    }\n  }\n\n  getToastPanelExtent() {\n    if (!this.sidenavOpened) {\n      if (this.toastPanelHtmlDisplay && this.mediaService.isDesktop()) {\n        return 'htmlDisplay';\n      }\n      if (this.fullExtent) {\n        return 'fullStandard';\n      } else {\n        return 'standard';\n      }\n    } else if (this.sidenavOpened) {\n      if (this.toastPanelHtmlDisplay && this.mediaService.isDesktop()) {\n        return 'htmlDisplayOffsetX';\n      }\n      if (this.fullExtent) {\n        return 'fullOffsetX';\n      } else {\n        return 'standardOffsetX';\n      }\n    }\n  }\n\n  onPointerSummaryStatusChange(value) {\n    this.storageService.set('searchPointerSummaryEnabled', value);\n    this.igoSearchPointerSummaryEnabled = value;\n  }\n\n  getExpansionPanelStatus() {\n    if (this.sidenavOpened === false) {\n      if (this.expansionPanelExpanded === true) {\n        return 'full';\n      }\n      return 'notTriggered';\n    }\n    if (this.sidenavOpened === true && this.isMobile() === false) {\n      if (this.expansionPanelExpanded === true) {\n        return 'reduced';\n      }\n      return 'reducedNotTriggered';\n    }\n    if (this.sidenavOpened === true && this.isMobile() === true) {\n      if (this.expansionPanelExpanded === true) {\n        return 'mobile';\n      } else {\n        return 'notVisible';\n      }\n    }\n  }\n\n  getToastPanelOffsetY() {\n    let status = 'noExpansion';\n    if (this.expansionPanelExpanded) {\n      if (this.workspaceMaximize$.value) {\n        if (this.toastPanelOpened) {\n          status = 'expansionMaximizedAndToastOpened';\n        } else {\n          status = 'expansionMaximizedAndToastClosed';\n        }\n      } else {\n        if (this.toastPanelOpened) {\n          status = 'expansionAndToastOpened';\n        } else {\n          status = 'expansionAndToastClosed';\n        }\n      }\n    } else {\n      status = 'noExpansion';\n    }\n    return status;\n  }\n\n  getToastPanelStatus() {\n    if (this.isMobile() === true && this.toastPanelOpened === false) {\n      if (this.sidenavOpened === false) {\n        if (this.expansionPanelExpanded === false) {\n          if (this.queryState.store.entities$.value.length > 0) {\n            return 'low';\n          }\n        }\n      }\n    }\n  }\n  getControlsOffsetY() {\n    return this.expansionPanelExpanded ?\n      this.workspaceMaximize$.value ? 'firstRowFromBottom-expanded-maximized' : 'firstRowFromBottom-expanded' :\n      'firstRowFromBottom';\n  }\n\n  getBaselayersSwitcherStatus() {\n    let status;\n    if (this.isMobile()) {\n\n      if (this.workspaceState.workspaceEnabled$.value) {\n        if (this.expansionPanelExpanded === false) {\n          if (this.queryState.store.entities$.value.length === 0) {\n            status = 'secondRowFromBottom';\n          } else {\n            status = 'thirdRowFromBottom';\n          }\n        } else {\n          if (this.queryState.store.entities$.value.length === 0) {\n            status = 'firstRowFromBottom-expanded';\n          } else {\n            status = 'secondRowFromBottom-expanded';\n          }\n        }\n\n      } else {\n        if (this.queryState.store.entities$.value.length === 0) {\n          status = 'firstRowFromBottom';\n        } else {\n          status = 'secondRowFromBottom';\n        }\n      }\n    } else {\n      if (this.workspaceState.workspaceEnabled$.value) {\n        if (this.expansionPanelExpanded) {\n          if (this.workspaceMaximize$.value) {\n            status = 'firstRowFromBottom-expanded-maximized';\n          } else {\n            status = 'firstRowFromBottom-expanded';\n          }\n        } else {\n          status = 'secondRowFromBottom';\n        }\n      } else {\n        status = 'firstRowFromBottom';\n      }\n    }\n    return status;\n  }\n\n  private readQueryParams() {\n    this.route.queryParams.subscribe((params) => {\n      this.routeParams = params;\n      this.readToolParams();\n      this.readSearchParams();\n      this.readFocusFirst();\n      this.computeZoomToExtent();\n    });\n  }\n\n  private readLanguageParam(params) {\n    if (params['lang']) {\n      this.authService.languageForce = true;\n      this.languageService.setLanguage(params['lang']);\n    }\n  }\n\n  private computeZoomToExtent() {\n    if (this.routeParams['zoomExtent']) {\n      const extentParams = this.routeParams['zoomExtent'].split(',');\n      const olExtent = olProj.transformExtent(\n        extentParams,\n        'EPSG:4326',\n        this.map.projection\n      );\n      this.map.viewController.zoomToExtent(olExtent as [number, number, number, number]);\n    }\n  }\n\n  private computeFocusFirst() {\n    setTimeout(() => {\n      const resultItem: any = document\n        .getElementsByTagName('igo-search-results-item')\n        .item(0);\n      if (resultItem) {\n        resultItem.click();\n      }\n    }, 1);\n  }\n\n  private readFocusFirst() {\n    if (this.routeParams['sf'] === '1' && this.termDefinedInUrl) {\n      const entities$$ = this.searchStore.stateView.all$()\n        .pipe(\n          skipWhile((entities) => entities.length === 0),\n          debounceTime(1000),\n          take(1)\n        )\n        .subscribe((entities) => {\n          entities$$.unsubscribe();\n          if (entities.length && !this.termDefinedInUrlTriggered) {\n            this.computeFocusFirst();\n            this.termDefinedInUrlTriggered = true;\n          }\n        });\n    }\n  }\n\n  private readSearchParams() {\n    if (this.routeParams['search']) {\n      this.termDefinedInUrl = true;\n      if (this.routeParams['exactMatch'] === '1') {\n        this.searchState.activateCustomFilterTermStrategy();\n      }\n      if (this.routeParams['search'] && !this.routeParams['zoom'] && this.routeParams['sf'] !== '1') {\n        const entities$$ = this.searchStore.stateView.all$()\n          .pipe(\n            skipWhile((entities) => entities.length === 0),\n            debounceTime(500),\n            take(1)\n          )\n          .subscribe((entities) => {\n            entities$$.unsubscribe();\n            const searchResultsOlFeatures = entities\n              .filter(e => e.entity.meta.dataType === FEATURE)\n              .map((entity: EntityRecord<SearchResult>) =>\n                new olFormatGeoJSON().readFeature(entity.entity.data, {\n                  dataProjection: entity.entity.data.projection,\n                  featureProjection: this.map.projection\n                })\n              );\n            const totalExtent = computeOlFeaturesExtent(this.map, searchResultsOlFeatures);\n            this.map.viewController.zoomToExtent(totalExtent);\n          });\n      }\n      this.searchBarTerm = this.routeParams['search'];\n    }\n    if (this.routeParams['searchGeom'] === '1') {\n      this.searchState.searchResultsGeometryEnabled$.next(true);\n    }\n  }\n\n  private readToolParams() {\n    if (this.routeParams['tool']) {\n      this.matDialogRef$.pipe(\n        skipWhile(r => r !== undefined),\n        first()\n      ).subscribe(matDialogOpened => {\n        if (!matDialogOpened) {\n          this.toolbox.activateTool(this.routeParams['tool']);\n        }\n      });\n    }\n\n    if (this.routeParams['sidenav'] === '1') {\n      setTimeout(() => {\n        this.openSidenav();\n      }, 250);\n    }\n\n    if (this.routeParams['routing']) {\n      let routingCoordLoaded = false;\n      const stopCoords = this.routeParams['routing'].split(';');\n      const routingOptions = this.routeParams['routingOptions'];\n      let resultSelection: number;\n      if (routingOptions) {\n        resultSelection = parseInt(routingOptions.split('result:')[1], 10);\n      }\n      this.directionState.stopsStore.storeInitialized$\n        .pipe(skipWhile(init => !init), first())\n        .subscribe((init: boolean) => {\n          if (init && !routingCoordLoaded) {\n            routingCoordLoaded = true;\n            stopCoords.map((coord, i) => {\n              if (i > 1) {\n                addStopToStore(this.directionState.stopsStore);\n              }\n            });\n            setTimeout(() => {\n              stopCoords.map((coord, i) => {\n                const stop = this.directionState.stopsStore.all().find(e => e.position === i);\n                stop.text = coord;\n                stop.coordinates = coord.split(',');\n                this.directionState.stopsStore.update(stop);\n              });\n            }, this.directionState.debounceTime * 1.25); // this delay is due to the default component debounce time\n          }\n        });\n      // zoom to active route\n      this.directionState.routesFeatureStore.count$\n        .pipe(skipWhile(c => c < 1), first())\n        .subscribe(c => {\n          if (c >= 1) {\n            this.directionState.zoomToActiveRoute$.next();\n          }\n        });\n      // select the active route by url controls\n      this.directionState.routesFeatureStore.count$\n        .pipe(skipWhile(c => c < 2), first())\n        .subscribe(() => {\n          if (resultSelection) {\n            this.directionState.routesFeatureStore.entities$.value.map(d => d.properties.active = false);\n            this.directionState.routesFeatureStore.entities$.value[resultSelection].properties.active = true;\n            this.directionState.zoomToActiveRoute$.next();\n          }\n        });\n    }\n  }\n\n  private readLayersQueryParams(params: Params) {\n    this.readLayersQueryParamsByType(params, 'wms');\n    this.readLayersQueryParamsByType(params, 'wmts');\n    this.readLayersQueryParamsByType(params, 'arcgisrest');\n    this.readLayersQueryParamsByType(params, 'imagearcgisrest');\n    this.readLayersQueryParamsByType(params, 'tilearcgisrest');\n    this.readVectorQueryParams(params);\n  }\n\n  getQueryParam(name, url) {\n    let paramValue;\n    if (url.includes('?')) {\n      const httpParams = new HttpParams({ fromString: url.split('?')[1] });\n      paramValue = httpParams.get(name);\n    }\n    return paramValue;\n  }\n\n  private readLayersQueryParamsByType(params: Params, type) {\n    let nameParamLayersKey;\n    let urlsKey;\n    switch (type) {\n      case 'wms':\n        if ((params['layers'] || params['wmsLayers']) && params['wmsUrl']) {\n          urlsKey = 'wmsUrl';\n          nameParamLayersKey = params['wmsLayers'] ? 'wmsLayers' : 'layers'; // for maintain compatibility\n        }\n        break;\n      case 'wmts':\n        if (params['wmtsLayers'] && params['wmtsUrl']) {\n          urlsKey = 'wmtsUrl';\n          nameParamLayersKey = 'wmtsLayers';\n        }\n        break;\n      case 'arcgisrest':\n        if (params['arcgisLayers'] && params['arcgisUrl']) {\n          urlsKey = 'arcgisUrl';\n          nameParamLayersKey = 'arcgisLayers';\n        }\n        break;\n      case 'imagearcgisrest':\n        if (params['iarcgisLayers'] && params['iarcgisUrl']) {\n          urlsKey = 'iarcgisUrl';\n          nameParamLayersKey = 'iarcgisLayers';\n        }\n        break;\n      case 'tilearcgisrest':\n        if (params['tarcgisLayers'] && params['tarcgisUrl']) {\n          urlsKey = 'tarcgisUrl';\n          nameParamLayersKey = 'tarcgisLayers';\n        }\n        break;\n    }\n    if (!nameParamLayersKey || !urlsKey) {\n      return;\n    }\n    const layersByService = params[nameParamLayersKey].split('),(');\n    const urls = params[urlsKey].split(',');\n\n    let cnt = 0;\n    urls.forEach((urlSrc) => {\n      let url = urlSrc;\n      const version =\n        this.getQueryParam('VERSION', url) ||\n        this.getQueryParam('version', url) ||\n        undefined;\n      if (version) {\n        url = url.replace('VERSION=' + version, '').replace('version=' + version, '');\n      }\n      if (url.endsWith('?')) {\n        url = url.substring(0, url.length - 1);\n      }\n\n      const currentLayersByService = this.extractLayersByService(\n        layersByService[cnt]\n      );\n      currentLayersByService.forEach((layer) => {\n        const layerFromUrl = layer.split(':igoz');\n        const layerOptions = ObjectUtils.removeUndefined({\n          type,\n          url: url,\n          layer: layerFromUrl[0],\n          params: type === 'wms' ? { LAYERS: layerFromUrl[0] } : undefined\n        });\n        const id = generateIdFromSourceOptions(layerOptions);\n        const visibility = this.computeLayerVisibilityFromUrl(params, id);\n        this.addLayerFromURL(\n          url,\n          layerFromUrl[0],\n          type,\n          version,\n          visibility,\n          layerFromUrl[1] ? parseInt(layerFromUrl[1], 10) : undefined\n        );\n      });\n      cnt += 1;\n    });\n  }\n\n  private readVectorQueryParams(params: Params) {\n    if (params['vector']) {\n      const url = params['vector'] as string;\n      const lastIndex = url.lastIndexOf('/');\n      const fileName = url.slice(lastIndex + 1, url.length);\n\n      this.http.get(`${url}`, { responseType: 'blob' }).subscribe((data) => {\n        const file = new File([data], fileName, {\n          type: data.type,\n          lastModified: Date.now()\n        });\n        this.importService.import(file).subscribe(\n          (features: Feature[]) => this.onFileImportSuccess(file, features),\n          (error: Error) => this.onFileImportError(file, error)\n        );\n      });\n    }\n  }\n\n  private onFileImportSuccess(file: File, features: Feature[]) {\n    handleFileImportSuccess(\n      file,\n      features,\n      this.map,\n      this.messageService,\n      this.languageService\n    );\n  }\n\n  private onFileImportError(file: File, error: Error) {\n    handleFileImportError(\n      file,\n      error,\n      this.messageService,\n      this.languageService\n    );\n  }\n\n  private extractLayersByService(layersByService: string): any[] {\n    let outLayersByService = layersByService;\n    outLayersByService = outLayersByService.startsWith('(')\n      ? outLayersByService.substr(1)\n      : outLayersByService;\n    outLayersByService = outLayersByService.endsWith(')')\n      ? outLayersByService.slice(0, -1)\n      : outLayersByService;\n    return outLayersByService.split(',');\n  }\n  private addLayerFromURL(\n    url: string,\n    name: string,\n    type: 'wms' | 'wmts' | 'arcgisrest' | 'imagearcgisrest' | 'tilearcgisrest',\n    version: string,\n    visibility: boolean = true,\n    zIndex: number\n  ) {\n    if (!this.contextLoaded) {\n      return;\n    }\n    const commonSourceOptions = {\n      optionsFromCapabilities: true,\n      optionsFromApi: true,\n      crossOrigin: true,\n      type,\n      url\n    };\n    const arcgisClause = (type === 'arcgisrest' || type === 'imagearcgisrest' || type === 'tilearcgisrest');\n    let sourceOptions = {\n      version: type === 'wmts' ? '1.0.0' : undefined,\n      queryable: arcgisClause ? true : false,\n      queryFormat: arcgisClause ? 'esrijson' : undefined,\n      layer: name\n    };\n    if (type === 'wms') {\n      sourceOptions = { params: { LAYERS: name, VERSION: version } } as any;\n    }\n\n    sourceOptions = ObjectUtils.removeUndefined(Object.assign({}, sourceOptions, commonSourceOptions));\n\n    this.addedLayers$$.push(\n      this.layerService\n        .createAsyncLayer({\n          zIndex: zIndex,\n          visible: visibility,\n          sourceOptions\n        })\n        .subscribe((l) => {\n          this.map.addLayer(l);\n        })\n    );\n  }\n\n  private computeLayerVisibilityFromUrl(\n    params: Params,\n    currentLayerid: string\n  ): boolean {\n    const queryParams = params;\n    let visible = true;\n    if (!queryParams || !currentLayerid) {\n      return visible;\n    }\n    let visibleOnLayersParams = '';\n    let visibleOffLayersParams = '';\n    let visiblelayers: string[] = [];\n    let invisiblelayers: string[] = [];\n    if (queryParams['visiblelayers']) {\n      visibleOnLayersParams = queryParams['visiblelayers'];\n    }\n    if (queryParams['invisiblelayers']) {\n      visibleOffLayersParams = queryParams['invisiblelayers'];\n    }\n\n    /* This order is important because to control whichever\n     the order of * param. First whe open and close everything.*/\n    if (visibleOnLayersParams === '*') {\n      visible = true;\n    }\n    if (visibleOffLayersParams === '*') {\n      visible = false;\n    }\n\n    // After, managing named layer by id (context.json OR id from datasource)\n    visiblelayers = visibleOnLayersParams.split(',');\n    invisiblelayers = visibleOffLayersParams.split(',');\n    if (visiblelayers.indexOf(currentLayerid) > -1 || visiblelayers.indexOf(currentLayerid.toString()) > -1) {\n      visible = true;\n    }\n    if (invisiblelayers.indexOf(currentLayerid) > -1 || invisiblelayers.indexOf(currentLayerid.toString()) > -1) {\n      visible = false;\n    }\n    return visible;\n  }\n\n  private initWelcomeWindow(): void {\n    if (this.auth?.url) {\n      this.authService.logged$.subscribe((logged) => {\n        if (logged) {\n          this.createWelcomeWindow();\n        }\n      });\n    } else {\n      this.createWelcomeWindow();\n    }\n  }\n\n  private createWelcomeWindow(): void {\n    if (this.welcomeWindowService.hasWelcomeWindow()) {\n      const welcomWindowConfig: MatDialogConfig = this.welcomeWindowService.getConfig();\n\n      this.matDialogRef$.next(\n          this.dialogWindow.open(\n          WelcomeWindowComponent,\n          welcomWindowConfig\n        ));\n\n        this.matDialogRef$.value.afterClosed().subscribe((result) => {\n        this.welcomeWindowService.afterClosedWelcomeWindow();\n        this.matDialogRef$.next(undefined);\n      });\n    }\n  }\n\n  private getFeatureIsSameActiveWks(feature: Feature): boolean {\n    if (this.workspace) {\n      const featureTitle = feature.meta.sourceTitle;\n      const wksTitle = this.workspace.title;\n      if (wksTitle === featureTitle) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n    return false;\n  }\n\n  private getWksActiveOpenInResolution(): boolean {\n    if(this.workspace) {\n      const activeWks = this.workspace as WfsWorkspace;\n      if(activeWks.active && activeWks.inResolutionRange$.value && this.workspaceState.workspacePanelExpanded) {\n        return true;\n      }\n    }\n    return false;\n   }\n\n  refreshRelationsWorkspace(relationLayers: ImageLayer[] | VectorLayer[]) {\n    if (relationLayers?.length) {\n      for (const layer of relationLayers) {\n        const relationWorkspace = this.workspaceStore.all().find(workspace => layer.options.workspace.workspaceId.includes(workspace.id));\n        relationWorkspace?.meta.tableTemplate.columns.forEach(col => {\n          // Update domain list\n          if (col.type === 'list' || col.type === 'autocomplete') {\n            this.editionWorkspaceService.getDomainValues(col.relation).subscribe(result => {\n              col.domainValues = result;\n            });\n          }\n        });\n      }\n    }\n  }\n\n  zoomToSelectedFeatureWks() {\n    let format = new olFormatGeoJSON();\n    const featuresSelected = this.workspaceState.workspaceSelection.map(rec => (rec.entity as Feature));\n    if (featuresSelected.length === 0) {\n      return;\n    }\n    const olFeaturesSelected = [];\n    for (const feat of featuresSelected) {\n      let localOlFeature = format.readFeature(feat,\n        {\n          dataProjection: feat.projection,\n          featureProjection: this.map.projection\n        });\n        olFeaturesSelected.push(localOlFeature);\n    }\n    moveToOlFeatures(this.map, olFeaturesSelected, FeatureMotion.Zoom);\n  }\n\n}\n","import './portal.variables.scss';\n\nimport {\n  trigger,\n  state,\n  style,\n  transition,\n  animate,\n  AnimationTriggerMetadata\n} from '@angular/animations';\n\nexport function expansionPanelAnimation(): AnimationTriggerMetadata[] {\n  return [\n    trigger('expansionPanelSize', [\n      state(\n        'full',\n        style({\n          left: '5px',\n          'max-width': '100%'\n        })\n      ),\n      state(\n        'notTriggered',\n        style({\n          left: '5px',\n          bottom: '5px',\n          'max-width': '100%'\n        })\n      ),\n      state(\n        'notVisible',\n        style({\n          display: 'none'\n        })\n      ),\n      state(\n        'mobile',\n        style({\n          left: 'calc(100% - 40px)',\n        })\n      ),\n      state(\n        'reduced',\n        style({\n          left: '405px',\n          'max-width': 'calc(100% - 405px)'\n        })\n      ),\n      state(\n        'reducedNotTriggered',\n        style({\n          left: '405px',\n          bottom: '5px',\n          'max-width': 'calc(100% - 405px)'\n        })\n      ),\n      transition('* => *', animate('100ms'))\n    ]),\n    trigger('toastOffsetY', [\n      state(\n        'true',\n        style({\n          bottom: '50px'\n        })\n      ),\n      state(\n        'false',\n        style({\n          bottom: '5px'\n        })\n      )\n    ])\n  ];\n}\n\nexport function toastPanelAnimation(): AnimationTriggerMetadata[] {\n  return [\n    trigger('toastPanelMobileSidenav', [\n      state(\n        'true',\n        style({\n          display: 'none'\n        })\n      ),\n      transition('* => void', animate('0ms')),\n      transition('* => *', animate('200ms'))\n    ]),\n    trigger('toastPanelOffsetX', [\n      state(\n        'fullStandard',\n        style({\n          left: '45%'\n        })\n      ),\n      state(\n        'standard',\n        style({\n          left: '50%'\n        })\n      ),\n      state(\n        'htmlDisplay',\n        style({\n          left: '40%'\n        })\n      ),\n      state(\n        'fullOffsetX',\n        style({\n          left: 'calc(45% + 202px)'\n        })\n      ),\n      state(\n        'standardOffsetX',\n        style({\n          left: 'calc(50% + 202px)'\n        })\n      ),\n      state(\n        'htmlDisplayOffsetX',\n        style({\n          left: 'calc(40% + 160px)'\n        })\n    ),\n      transition('fullStandard => fullOffsetX', animate('200ms')),\n      transition('fullOffsetX => fullStandard', animate('200ms')),\n      transition('standard => standardOffsetX', animate('200ms')),\n      transition('standardOffsetX => standard', animate('200ms')),\n      transition('htmlDisplay => htmlDisplayOffsetX', animate('200ms')),\n      transition('htmlDisplayOffsetX => htmlDisplay', animate('200ms')),\n      // transition('standard => htmlDisplay', animate('200ms')),\n      // transition('htmlDisplay => standard', animate('200ms')),\n    ]),\n    trigger('toastPanelOffsetY', [\n      state(\n        'noExpansion',\n        style({\n          bottom: '0'\n        })\n      ),\n      state(\n        'expansionAndToastOpened',\n        style({\n          bottom: '285px',\n          zIndex: '999'\n        })\n      ),\n      state(\n        'expansionAndToastClosed',\n        style({\n          bottom: '285px',\n          zIndex: '5'\n        })\n      ),\n      state(\n        'expansionMaximizedAndToastOpened',\n        style({\n          bottom: '500px', // workspace full size\n          zIndex: '999'\n        })\n      ),\n      state(\n        'expansionMaximizedAndToastClosed',\n        style({\n          bottom: '500px', // workspace full size\n          zIndex: '5'\n        })\n      ),\n    transition('noExpansion => noExpansion', animate('10ms')),\n    transition('expansionAndToastOpened => expansionAndToastOpened', animate('200ms')),\n    transition('expansionAndToastClosed => expansionAndToastClosed', animate('200ms')),\n    transition('expansionMaximizedAndToastOpened => expansionMaximizedAndToastOpened', animate('200ms')),\n    transition('expansionMaximizedAndToastClosed => expansionMaximizedAndToastClosed', animate('200ms')),\n       ])\n  ];\n}\n\nexport function controlsAnimations(): AnimationTriggerMetadata[] {\n  return [\n    trigger('controlsOffsetY', [\n      state('close', style({})),\n      state(\n        'firstRowFromBottom',\n        style({\n          bottom: '5px'\n        })\n      ),\n      state(\n        'firstRowFromBottom-expanded',\n        style({\n          bottom: '285px'\n        })\n      ),\n      state(\n        'firstRowFromBottom-expanded-maximized',\n        style({\n          bottom: '500px'\n        })\n      ),\n      state(\n        'secondRowFromBottom',\n        style({\n          bottom: '47px'\n        })\n      ),\n      state(\n        'thirdRowFromBottom',\n        style({\n          bottom: '104px'\n        })\n      ),\n      state(\n        '',\n        style({\n          bottom: 'calc(285px)'\n        })\n      ),\n      state(\n        'secondRowFromBottom-expanded',\n        style({\n          bottom: 'calc(285px + 52px)'\n        })\n      ),\n      state(\n        'thirdRowFromBottom-expanded',\n        style({\n          bottom: 'calc(285px + 104px)'\n        })\n      ),\n      transition('* => *', animate('200ms'))\n    ]),\n    trigger('mobileOffsetY', [\n      state(\n        'low',\n        style({\n          bottom: '50px'\n        })\n      ),\n      transition('* => *', animate('200ms'))\n    ])\n  ];\n}\n\nexport function controlSlideX(): AnimationTriggerMetadata {\n  return trigger('controlStateX', [\n    state(\n      'left',\n      style({\n        left: '60px'\n      })\n    ),\n    state(\n      'right',\n      style({\n        left: '465px'\n      })\n    ),\n    transition('* => *', animate('200ms'))\n  ]);\n}\n\nexport function controlSlideY(): AnimationTriggerMetadata {\n  return trigger('controlStateY', [\n    state('close', style({})),\n    state(\n      'firstRowFromBottom',\n      style({\n        bottom: '2px',\n        'margin-left': '0px'\n      })\n    ),\n    state(\n      'firstRowFromBottom-expanded',\n      style({\n        bottom: '285px',\n        'margin-left': '-55px'\n      })\n    ),\n    state(\n      'firstRowFromBottom-expanded-maximized',\n      style({\n        bottom: '500px', // workspace full size\n        'margin-left': '-55px'\n      })\n    ),\n    transition('* => *', animate('200ms'))\n  ]);\n}\n\nexport function mapSlideX(): AnimationTriggerMetadata {\n  return trigger('mapStateX', [\n    state(\n      'left',\n      style({\n        left: '0'\n      })\n    ),\n    state(\n      'right',\n      style({\n        left: '0'\n      })\n    ),\n    transition('* => *', animate('200ms'))\n  ]);\n}\nexport function mapSlideY(): AnimationTriggerMetadata {\n  return trigger('mapStateY', [\n    state(\n      '*',\n      style({\n        bottom: '0'\n      })\n    ),\n    transition('* => *', animate('200ms'))\n  ]);\n}\n","import { Component } from '@angular/core';\nimport { ConfigService, LanguageService } from '@igo2/core';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss']\n})\nexport class HeaderComponent {\n\n  public headerLogo: string;\n  public headerLogoPrint: string;\n\n  constructor(\n    private configService: ConfigService,\n    protected languageService: LanguageService) {\n      this.computeHeader();\n    }\n\n  computeHeader() {\n    this.headerLogo = this.configService.getConfig('header.logo');\n    this.headerLogoPrint = this.configService.getConfig('header.logoPrint');\n  }\n\n  // Future translation system\n  /*changeLanguage() {\n    if (this.languageService.getLanguage() === 'fr'){\n      this.languageService.setLanguage('en');\n    } else {\n      this.languageService.setLanguage('fr');\n    }\n  }*/\n\n}\n","<mat-toolbar class = banner role = banner color=\"primary\">\n\t<div class=\"container\">\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-6 col-md-10 d-flex flex-wrap align-items-center zone-logo-title\">\n\t\t\t\t<a class=\"logo\" tabindex=\"5\" routerLink=\"\">\n                    <img id=\"header-logo\" alt=\"Logo\" src=\"{{headerLogo}}\">\n                </a>\n\t\t\t\t<img id=\"header-logo-print\" alt=\"Logo\" src=\"{{headerLogoPrint}}\" width=\"199\" height=\"60\" />\n\t\t\t\t<p lang=\"fr\" id=\"title-desktop\" class=\"zone-title  d-none d-md-block\">{{'header.title' | translate}}</p>\n\t\t\t</div>\n\t\t\t<div class=\"col-6 col-md-2 d-flex justify-content-end zone-links\">\n\t\t\t\t<ul class=\"nav flex-column\">\n\t\t\t\t\t<!--<li><button class=\"buttonLanguage\" disabled (click)=\"changeLanguage()\">{{'header.language'}}</button></li>-->\n\t\t\t\t\t<li><a rel=\"noopener noreferrer\" alt=\"('header.contactUsUrl' | translate)\" href=\"{{'header.contactUsUrl' | translate}}\" target=\"_blank\">{{'header.contactUs' | translate}}</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<p lang=\"fr\" id=\"title-mobile\" class=\"zone-title d-md-none col-12\"><a>{{'header.title' | translate}}</a></p>\n\t\t</div>\n\t</div>\n</mat-toolbar>\n\n","import { Component } from '@angular/core';\nimport { LanguageService } from '@igo2/core';\n\n@Component({\n  selector: 'app-footer',\n  templateUrl: './footer.component.html',\n  styleUrls: ['./footer.component.scss']\n})\nexport class FooterComponent {\n\n  constructor(protected languageService: LanguageService) {}\n\n}\n","<igo-spinner igoSpinnerActivity></igo-spinner>\n\n<igo-auth-form *ngIf=\"authConfig && authConfig.url\"></igo-auth-form>\n\n<app-header *ngIf=\"hasHeader\" #header></app-header>\n\n<app-portal [ngClass]=\" hasHeader? (hasFooter? 'portal-with-header-footer' : 'portal-with-header') : (hasFooter? 'portal-with-footer' : 'portal') \" igoStopDropPropagation></app-portal>\n\n<app-footer *ngIf=\"hasFooter\"></app-footer>\n","<div class=\"footer-right\" id=\"footer-id\">\n    <span class=\"order2\">\n        <span class=\"footer-text\">\n            <a rel=\"noopener noreferrer\" alt=\"('externallinks' | translate)\" href=\"{{'footer.url-conditions' | translate}}\"\n            target=\"_blank\">{{'footer.conditions' | translate}}</a>\n        </span>\n        <span class=\"footer-text\">  |  </span>\n        <span class=\"footer-text\">\n            <a rel=\"noopener noreferrer\" alt=\"('externallinks' | translate)\" href=\"{{'footer.url-ministry' | translate}}\"\n            target=\"_blank\">{{'footer.ministry' | translate}}</a>\n        </span>\n        <span class=\"footer-text\">  |  </span>\n        <span class=\"footer-text\">\n            <a rel=\"noopener noreferrer\" alt=\"('externallinks' | translate)\" href=\"{{'footer.url-gov' | translate}}\"\n            target=\"_blank\">{{'footer.gov' | translate}}</a>\n        </span>\n    </span>\n</div>\n","import { Component, Renderer2 } from '@angular/core';\nimport { Title, Meta } from '@angular/platform-browser';\nimport { zip } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { userAgent } from '@igo2/utils';\nimport {\n  LanguageService,\n  ConfigService,\n  MessageService\n} from '@igo2/core';\nimport { AuthOptions } from '@igo2/auth';\nimport { AnalyticsListenerService } from '@igo2/integration';\nimport { PwaService } from './services/pwa.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  public authConfig: AuthOptions;\n  private themeClass = 'blue-theme';\n  public hasHeader = true;\n  public hasFooter = true;\n\n  constructor(\n    protected languageService: LanguageService,\n    private configService: ConfigService,\n    private analyticsListenerService: AnalyticsListenerService,\n    private renderer: Renderer2,\n    private titleService: Title,\n    private metaService: Meta,\n    private messageService: MessageService,\n    private pwaService: PwaService\n  ) {\n    this.pwaService.checkForUpdates();\n    this.languageService.translate.getTranslation(this.languageService.getLanguage()).subscribe();\n\n    this.authConfig = this.configService.getConfig('auth');\n\n    this.readTitleConfig();\n    this.readThemeConfig();\n    this.readDescriptionConfig();\n\n    this.analyticsListenerService.listen();\n\n    this.detectOldBrowser();\n\n    this.hasHeader = this.configService.getConfig('header.hasHeader') === undefined ? false :\n    this.configService.getConfig('header.hasHeader');\n\n    this.hasFooter = this.configService.getConfig('hasFooter') === undefined ? false :\n    this.configService.getConfig('hasFooter');\n  }\n\n  private readTitleConfig() {\n    this.languageService.translate.get(this.configService.getConfig('title')).subscribe(title => {\n      if (title) {\n        this.titleService.setTitle(title);\n        this.metaService.addTag({ name: 'title', content: title });\n      }\n    });\n  }\n\n  private readThemeConfig() {\n    const theme = this.configService.getConfig('theme') || this.themeClass;\n    if (theme) {\n      this.renderer.addClass(document.body, theme);\n    }\n  }\n\n  private readDescriptionConfig() {\n    const description = this.configService.getConfig('description');\n    if (description) {\n      this.metaService.addTag({ name: 'description', content: description });\n    }\n  }\n\n  private detectOldBrowser() {\n    const oldBrowser = userAgent.satisfies({\n      ie: '<=11',\n      chrome: '<64',\n      firefox: '<60',\n      safari: '<=11'\n    });\n\n    if (oldBrowser) {\n      const translate = this.languageService.translate;\n      const title$ = translate.get('oldBrowser.title');\n      const message$ = translate.get('oldBrowser.message');\n      zip(title$, message$)\n        .pipe(\n          map(([title, message]) => ({\n            title,\n            message\n          }))\n        )\n        .subscribe((rep) =>\n          this.messageService.alert(rep.message, rep.title, {\n            timeOut: 15000\n          })\n        );\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HeaderComponent } from './header.component';\nimport { IgoLanguageModule } from '@igo2/core';\nimport { MatToolbarModule } from '@angular/material/toolbar';\n\n@NgModule({\n  declarations: [\n    HeaderComponent\n  ],\n  imports: [\n    CommonModule,\n    IgoLanguageModule,\n    MatToolbarModule\n    ],\n  exports: [\n    HeaderComponent\n  ]\n})\nexport class HeaderModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FooterComponent } from './footer.component';\nimport { IgoLanguageModule } from '@igo2/core';\n\n@NgModule({\n  declarations: [\n    FooterComponent\n  ],\n  imports: [\n    CommonModule,\n    IgoLanguageModule\n  ],\n  exports: [\n    FooterComponent\n  ]\n})\nexport class FooterModule { }\n","import { BrowserModule, HammerModule } from '@angular/platform-browser';\nimport { APP_INITIALIZER, InjectionToken, NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport {\n  provideConfigOptions,\n  IgoMessageModule,\n  IgoGestureModule,\n  RouteService,\n  LanguageService,\n  ConfigService,\n  ConfigOptions,\n  CONFIG_OPTIONS\n} from '@igo2/core';\nimport { IgoSpinnerModule, IgoStopPropagationModule } from '@igo2/common';\nimport { IgoAuthModule } from '@igo2/auth';\nimport {\n  provideIChercheSearchSource,\n  provideIChercheReverseSearchSource,\n  provideNominatimSearchSource,\n  provideCoordinatesReverseSearchSource,\n  provideILayerSearchSource,\n  provideStoredQueriesSearchSource,\n  provideOsrmDirectionsSource,\n  provideOptionsApi,\n  provideStyleListOptions\n} from '@igo2/geo';\n\nimport { PwaService } from './services/pwa.service';\n\nimport { environment } from '../environments/environment';\nimport { PortalModule } from './pages';\nimport { AppComponent } from './app.component';\nimport { HeaderModule } from './pages/header/header.module';\nimport { FooterModule } from './pages/footer/footer.module';\nimport { ServiceWorkerModule } from '@angular/service-worker';\n\nexport let CONFIG_LOADER = new InjectionToken<Promise<ConfigService>>('Config Loader');\n\nfunction configLoader(\n  configService: ConfigService,\n  configOptions: ConfigOptions,\n): Promise<unknown> {\n  const promiseOrTrue = configService.load(configOptions);\n  if (promiseOrTrue instanceof Promise) {\n    return promiseOrTrue;\n  }\n  return Promise.resolve();\n}\nimport { MAT_TOOLTIP_DEFAULT_OPTIONS, MatTooltipDefaultOptions } from '@angular/material/tooltip';\n\nexport const defaultTooltipOptions: MatTooltipDefaultOptions = {\n  showDelay: 500,\n  hideDelay: 0,\n  touchendHideDelay: 0,\n  disableTooltipInteractivity: true\n};\n\n@NgModule({\n  declarations: [AppComponent],\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    RouterModule.forRoot([]),\n    IgoAuthModule.forRoot(),\n    IgoGestureModule.forRoot(),\n    IgoMessageModule,\n    IgoSpinnerModule,\n    IgoStopPropagationModule,\n    PortalModule,\n    HammerModule,\n    HeaderModule,\n    FooterModule,\n    ServiceWorkerModule.register('ngsw-worker.js', {\n      enabled: environment.igo.app.pwa.enabled,\n      registrationStrategy: 'registerWithDelay:5000'\n    })\n  ],\n  providers: [\n    provideConfigOptions({\n      default: environment.igo,\n      path: './config/config.json'\n    }),\n    {\n      provide: CONFIG_LOADER,\n      useFactory: configLoader,\n      deps: [ConfigService, CONFIG_OPTIONS],\n    },\n    RouteService,\n    provideNominatimSearchSource(),\n    provideIChercheSearchSource(),\n    provideIChercheReverseSearchSource(),\n    provideCoordinatesReverseSearchSource(),\n    provideILayerSearchSource(),\n    provideStoredQueriesSearchSource(),\n    provideOsrmDirectionsSource(),\n    provideOptionsApi(),\n    {\n      provide: APP_INITIALIZER,\n      useFactory: appInitializerFactory,\n      deps: [CONFIG_LOADER, LanguageService, PwaService],\n      multi: true\n    },\n    provideStyleListOptions({\n      path: './assets/list-style.json'\n    }),\n    { provide: MAT_TOOLTIP_DEFAULT_OPTIONS, useValue: defaultTooltipOptions }\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {}\n\nfunction appInitializerFactory(\n  configLoader: Promise<unknown>,\n  languageService: LanguageService,\n  pwaService: PwaService\n) {\n  return () => new Promise<any>((resolve: any) => {\n    configLoader.then(() => {\n      const secondPromises = [languageService.translate.getTranslation(languageService.getLanguage())];\n      Promise.all(secondPromises).then(() => {\n        const thirdPromises = [pwaService.initPwaPrompt()];\n        Promise.all(thirdPromises).then(() => resolve());\n      });\n    });\n  });\n}\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nimport 'hammerjs';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic()\n  .bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n","var map = {\n\t\"./af\": 58685,\n\t\"./af.js\": 58685,\n\t\"./ar\": 254,\n\t\"./ar-dz\": 4312,\n\t\"./ar-dz.js\": 4312,\n\t\"./ar-kw\": 32614,\n\t\"./ar-kw.js\": 32614,\n\t\"./ar-ly\": 18630,\n\t\"./ar-ly.js\": 18630,\n\t\"./ar-ma\": 28674,\n\t\"./ar-ma.js\": 28674,\n\t\"./ar-sa\": 49032,\n\t\"./ar-sa.js\": 49032,\n\t\"./ar-tn\": 24730,\n\t\"./ar-tn.js\": 24730,\n\t\"./ar.js\": 254,\n\t\"./az\": 53052,\n\t\"./az.js\": 53052,\n\t\"./be\": 60150,\n\t\"./be.js\": 60150,\n\t\"./bg\": 63069,\n\t\"./bg.js\": 63069,\n\t\"./bm\": 13466,\n\t\"./bm.js\": 13466,\n\t\"./bn\": 18516,\n\t\"./bn-bd\": 90557,\n\t\"./bn-bd.js\": 90557,\n\t\"./bn.js\": 18516,\n\t\"./bo\": 26273,\n\t\"./bo.js\": 26273,\n\t\"./br\": 9588,\n\t\"./br.js\": 9588,\n\t\"./bs\": 19815,\n\t\"./bs.js\": 19815,\n\t\"./ca\": 83331,\n\t\"./ca.js\": 83331,\n\t\"./cs\": 21320,\n\t\"./cs.js\": 21320,\n\t\"./cv\": 72219,\n\t\"./cv.js\": 72219,\n\t\"./cy\": 68266,\n\t\"./cy.js\": 68266,\n\t\"./da\": 66427,\n\t\"./da.js\": 66427,\n\t\"./de\": 67435,\n\t\"./de-at\": 52871,\n\t\"./de-at.js\": 52871,\n\t\"./de-ch\": 12994,\n\t\"./de-ch.js\": 12994,\n\t\"./de.js\": 67435,\n\t\"./dv\": 82357,\n\t\"./dv.js\": 82357,\n\t\"./el\": 95649,\n\t\"./el.js\": 95649,\n\t\"./en-au\": 59961,\n\t\"./en-au.js\": 59961,\n\t\"./en-ca\": 19878,\n\t\"./en-ca.js\": 19878,\n\t\"./en-gb\": 3924,\n\t\"./en-gb.js\": 3924,\n\t\"./en-ie\": 70864,\n\t\"./en-ie.js\": 70864,\n\t\"./en-il\": 91579,\n\t\"./en-il.js\": 91579,\n\t\"./en-in\": 30940,\n\t\"./en-in.js\": 30940,\n\t\"./en-nz\": 16181,\n\t\"./en-nz.js\": 16181,\n\t\"./en-sg\": 44301,\n\t\"./en-sg.js\": 44301,\n\t\"./eo\": 85291,\n\t\"./eo.js\": 85291,\n\t\"./es\": 54529,\n\t\"./es-do\": 53764,\n\t\"./es-do.js\": 53764,\n\t\"./es-mx\": 12584,\n\t\"./es-mx.js\": 12584,\n\t\"./es-us\": 63425,\n\t\"./es-us.js\": 63425,\n\t\"./es.js\": 54529,\n\t\"./et\": 35203,\n\t\"./et.js\": 35203,\n\t\"./eu\": 70678,\n\t\"./eu.js\": 70678,\n\t\"./fa\": 83483,\n\t\"./fa.js\": 83483,\n\t\"./fi\": 96262,\n\t\"./fi.js\": 96262,\n\t\"./fil\": 52521,\n\t\"./fil.js\": 52521,\n\t\"./fo\": 34555,\n\t\"./fo.js\": 34555,\n\t\"./fr\": 63131,\n\t\"./fr-ca\": 88239,\n\t\"./fr-ca.js\": 88239,\n\t\"./fr-ch\": 21702,\n\t\"./fr-ch.js\": 21702,\n\t\"./fr.js\": 63131,\n\t\"./fy\": 267,\n\t\"./fy.js\": 267,\n\t\"./ga\": 23821,\n\t\"./ga.js\": 23821,\n\t\"./gd\": 71753,\n\t\"./gd.js\": 71753,\n\t\"./gl\": 4074,\n\t\"./gl.js\": 4074,\n\t\"./gom-deva\": 92762,\n\t\"./gom-deva.js\": 92762,\n\t\"./gom-latn\": 5969,\n\t\"./gom-latn.js\": 5969,\n\t\"./gu\": 82809,\n\t\"./gu.js\": 82809,\n\t\"./he\": 45402,\n\t\"./he.js\": 45402,\n\t\"./hi\": 315,\n\t\"./hi.js\": 315,\n\t\"./hr\": 10410,\n\t\"./hr.js\": 10410,\n\t\"./hu\": 38288,\n\t\"./hu.js\": 38288,\n\t\"./hy-am\": 67928,\n\t\"./hy-am.js\": 67928,\n\t\"./id\": 71334,\n\t\"./id.js\": 71334,\n\t\"./is\": 86959,\n\t\"./is.js\": 86959,\n\t\"./it\": 34864,\n\t\"./it-ch\": 51124,\n\t\"./it-ch.js\": 51124,\n\t\"./it.js\": 34864,\n\t\"./ja\": 36141,\n\t\"./ja.js\": 36141,\n\t\"./jv\": 29187,\n\t\"./jv.js\": 29187,\n\t\"./ka\": 42136,\n\t\"./ka.js\": 42136,\n\t\"./kk\": 94332,\n\t\"./kk.js\": 94332,\n\t\"./km\": 18607,\n\t\"./km.js\": 18607,\n\t\"./kn\": 84305,\n\t\"./kn.js\": 84305,\n\t\"./ko\": 70234,\n\t\"./ko.js\": 70234,\n\t\"./ku\": 16003,\n\t\"./ku.js\": 16003,\n\t\"./ky\": 75061,\n\t\"./ky.js\": 75061,\n\t\"./lb\": 32786,\n\t\"./lb.js\": 32786,\n\t\"./lo\": 66183,\n\t\"./lo.js\": 66183,\n\t\"./lt\": 50029,\n\t\"./lt.js\": 50029,\n\t\"./lv\": 24169,\n\t\"./lv.js\": 24169,\n\t\"./me\": 68577,\n\t\"./me.js\": 68577,\n\t\"./mi\": 68177,\n\t\"./mi.js\": 68177,\n\t\"./mk\": 50337,\n\t\"./mk.js\": 50337,\n\t\"./ml\": 65260,\n\t\"./ml.js\": 65260,\n\t\"./mn\": 52325,\n\t\"./mn.js\": 52325,\n\t\"./mr\": 14695,\n\t\"./mr.js\": 14695,\n\t\"./ms\": 75334,\n\t\"./ms-my\": 37151,\n\t\"./ms-my.js\": 37151,\n\t\"./ms.js\": 75334,\n\t\"./mt\": 63570,\n\t\"./mt.js\": 63570,\n\t\"./my\": 97963,\n\t\"./my.js\": 97963,\n\t\"./nb\": 88028,\n\t\"./nb.js\": 88028,\n\t\"./ne\": 86638,\n\t\"./ne.js\": 86638,\n\t\"./nl\": 50302,\n\t\"./nl-be\": 66782,\n\t\"./nl-be.js\": 66782,\n\t\"./nl.js\": 50302,\n\t\"./nn\": 33501,\n\t\"./nn.js\": 33501,\n\t\"./oc-lnc\": 50563,\n\t\"./oc-lnc.js\": 50563,\n\t\"./pa-in\": 50869,\n\t\"./pa-in.js\": 50869,\n\t\"./pl\": 65302,\n\t\"./pl.js\": 65302,\n\t\"./pt\": 49687,\n\t\"./pt-br\": 74884,\n\t\"./pt-br.js\": 74884,\n\t\"./pt.js\": 49687,\n\t\"./ro\": 79107,\n\t\"./ro.js\": 79107,\n\t\"./ru\": 33627,\n\t\"./ru.js\": 33627,\n\t\"./sd\": 30355,\n\t\"./sd.js\": 30355,\n\t\"./se\": 83427,\n\t\"./se.js\": 83427,\n\t\"./si\": 11848,\n\t\"./si.js\": 11848,\n\t\"./sk\": 54590,\n\t\"./sk.js\": 54590,\n\t\"./sl\": 20184,\n\t\"./sl.js\": 20184,\n\t\"./sq\": 56361,\n\t\"./sq.js\": 56361,\n\t\"./sr\": 78965,\n\t\"./sr-cyrl\": 81287,\n\t\"./sr-cyrl.js\": 81287,\n\t\"./sr.js\": 78965,\n\t\"./ss\": 25456,\n\t\"./ss.js\": 25456,\n\t\"./sv\": 70451,\n\t\"./sv.js\": 70451,\n\t\"./sw\": 77558,\n\t\"./sw.js\": 77558,\n\t\"./ta\": 51356,\n\t\"./ta.js\": 51356,\n\t\"./te\": 73693,\n\t\"./te.js\": 73693,\n\t\"./tet\": 21243,\n\t\"./tet.js\": 21243,\n\t\"./tg\": 42500,\n\t\"./tg.js\": 42500,\n\t\"./th\": 55768,\n\t\"./th.js\": 55768,\n\t\"./tk\": 77761,\n\t\"./tk.js\": 77761,\n\t\"./tl-ph\": 35780,\n\t\"./tl-ph.js\": 35780,\n\t\"./tlh\": 29590,\n\t\"./tlh.js\": 29590,\n\t\"./tr\": 33807,\n\t\"./tr.js\": 33807,\n\t\"./tzl\": 93857,\n\t\"./tzl.js\": 93857,\n\t\"./tzm\": 60654,\n\t\"./tzm-latn\": 8806,\n\t\"./tzm-latn.js\": 8806,\n\t\"./tzm.js\": 60654,\n\t\"./ug-cn\": 30845,\n\t\"./ug-cn.js\": 30845,\n\t\"./uk\": 19232,\n\t\"./uk.js\": 19232,\n\t\"./ur\": 47052,\n\t\"./ur.js\": 47052,\n\t\"./uz\": 77967,\n\t\"./uz-latn\": 32233,\n\t\"./uz-latn.js\": 32233,\n\t\"./uz.js\": 77967,\n\t\"./vi\": 98615,\n\t\"./vi.js\": 98615,\n\t\"./x-pseudo\": 12320,\n\t\"./x-pseudo.js\": 12320,\n\t\"./yo\": 31313,\n\t\"./yo.js\": 31313,\n\t\"./zh-cn\": 64490,\n\t\"./zh-cn.js\": 64490,\n\t\"./zh-hk\": 55910,\n\t\"./zh-hk.js\": 55910,\n\t\"./zh-mo\": 98262,\n\t\"./zh-mo.js\": 98262,\n\t\"./zh-tw\": 44223,\n\t\"./zh-tw.js\": 44223\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 46700;"],"x_google_ignoreList":[39]}